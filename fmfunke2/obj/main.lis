                        .module main.c
                        .area text(rom, con, rel)
 0000                   .dbfile ./main.c
 0000                   .dbfile F:\PSOCDE~1.4PR\fmfunke2\fmfunke2\main.c
 0000                   .dbfunc e warte1ms _warte1ms fV
 0000           _warte1ms::
 0000                   .dbline -1
 0000                   .dbline 42
 0000           ;   //----------------------------------------------------------------------------
 0000           ; // C main line
 0000           ; //----------------------------------------------------------------------------
 0000           ; 
 0000           ; #include <m8c.h>        // part specific constants and macros
 0000           ; #include "PSoCAPI.h" // PSoC API definitions for all User Module
 0000           ; #include <string.h>
 0000           ; #include <stdlib.h>
 0000           ; #include <stdio.h>
 0000           ; extern void kommando_setvol(void);
 0000           ; extern void kommando_setfilter(void);
 0000           ; extern void kommando_heartbeat(void);
 0000           ; extern void lcdInit(void);
 0000           ; extern void clear_LCD(void);
 0000           ; extern void kommando_rssi(void);
 0000           ; extern void kommando_rufton(void);
 0000           ; extern void setgroup_response(void);
 0000           ; extern void wait_ptt(void );
 0000           ; extern void ton_on(void);
 0000           ; extern void print_vol(void);
 0000           ; extern char responsebuffer[];
 0000           ; extern unsigned char filter,counter;
 0000           ; //extern unsigned char TXstatus2;//,TXstatus2,Squelch;
 0000           ; //char lptext[]="LP ",hptext[]="HP ",pretext[]="PRE"; 
 0000           ; //char offtext[]="off",sqtext[]="SQ:",modetext[]="Mode:";
 0000           ; unsigned char TXstatus;// Status Bit 0=channel space 25 khz/1=channel space 12,5 khz ;Bit 1=simplex/duplex; Bit 2= hfpower low/high;bit 3 =ablage plus/minus;                    
 0000           ; //Bit 4= PTT is off/on ; Bit 5 Rufton on/off;Bit 6 = 0 vox off/on; Bit 7 = 0 Menustatus off/on
 0000           ; unsigned char TXstatus2;  //Bit 0  0=Normal/1= Aprs mode Bit 1 = 0 APRS Daten valid/ 1 Aprs Daten ready 
 0000           ; unsigned char direction;
 0000           ; int shift;
 0000           ; long int frequenz;
 0000           ; unsigned char volume,Squelch;//squelch wert 0-8
 0000           ; unsigned char filter;//filter 1 =Pre/DE, 2=Hihghpass, 3=Lowpass  0---> all filter off
 0000           ; unsigned char micgain;
 0000           ; 
 0000           ; 
 0000           ; /* function delay for 1 millisecond
 0000           ;    Argument : none
 0000           ;    Return   : none
 0000           ; #########################################################################################################################*/
 0000           ; void warte1ms(void)
 0000           ; {
 0000                   .dbline 43
 0000           ;        LCD_1_Delay50uTimes(20);
 0000 10                push X
 0001 5014              mov A,20
 0003 7C0000            xcall _LCD_1_Delay50uTimes
 0006 20                pop X
 0007                   .dbline -2
 0007           L1:
 0007                   .dbline 0 ; func end
 0007 7F                ret
 0008                   .dbend
 0008                   .dbfunc e warte _warte fV
 0008           ;              i -> X+0
 0008           ;              e -> X-5
 0008           _warte::
 0008                   .dbline -1
 0008 10                push X
 0009 4F                mov X,SP
 000A 3802              add SP,2
 000C                   .dbline 51
 000C           ;       
 000C           ; }
 000C           ; /* function delay 
 000C           ;    Argument : how many millisecond wait
 000C           ;    Return   : none
 000C           ; #########################################################################################################################*/
 000C           ; void warte(unsigned int e)
 000C           ; {
 000C                   .dbline 53
 000C           ; register unsigned int i;
 000C           ;  for (i=1;i<e;i++)
 000C 560101            mov [X+1],1
 000F 560000            mov [X+0],0
 0012 8008              xjmp L6
 0014           L3:
 0014                   .dbline 54
 0014           ;                                {
 0014                   .dbline 55
 0014           ;                                                         warte1ms();   
 0014 9FEA              xcall _warte1ms
 0016                   .dbline 56
 0016           ;                                 }
 0016           L4:
 0016                   .dbline 53
 0016 7701              inc [X+1]
 0018 0F0000            adc [X+0],0
 001B           L6:
 001B                   .dbline 53
 001B 5201              mov A,[X+1]
 001D 13FC              sub A,[X-4]
 001F 5200              mov A,[X+0]
 0021 1BFB              sbb A,[X-5]
 0023 CFF0              jc L3
 0025           X0:
 0025                   .dbline -2
 0025           L2:
 0025 38FE              add SP,-2
 0027 20                pop X
 0028                   .dbline 0 ; func end
 0028 7F                ret
 0029                   .dbsym l i 0 i
 0029                   .dbsym l e -5 i
 0029                   .dbend
 0029                   .dbfunc e menu_taste_down _menu_taste_down fV
 0029           _menu_taste_down::
 0029                   .dbline -1
 0029                   .dbline 63
 0029           ; }
 0029           ; /* function wait for menu button down
 0029           ;    Argument : none
 0029           ;    Return   : none
 0029           ; #########################################################################################################################*/
 0029           ; void    menu_taste_down(void)
 0029           ; {
 0029 800E              xjmp L9
 002B           L8:
 002B                   .dbline 64
 002B           ; while         ((PRT1DR & 16)!=16){
 002B                   .dbline 65
 002B           ;                                                       warte(100);
 002B 5000              mov A,0
 002D 08                push A
 002E 5064              mov A,100
 0030 08                push A
 0031 9FD5              xcall _warte
 0033 38FE              add SP,-2
 0035                   .dbline 66
 0035           ;                                                       M8C_ClearWDT;                                                                                                           
 0035 62E300            mov REG[0xe3],0
 0038                   .dbline 67
 0038           ;                                               } 
 0038           L9:
 0038                   .dbline 64
 0038 5D04              mov A,REG[0x4]
 003A 2110              and A,16
 003C 3910              cmp A,16
 003E BFEC              jnz L8
 0040                   .dbline -2
 0040           L7:
 0040                   .dbline 0 ; func end
 0040 7F                ret
 0041                   .dbend
 0041                   .dbfunc e Print_Frequenz _Print_Frequenz fV
 0041           ;              e -> X+9
 0041           ;              c -> X+4
 0041           ;              d -> X+0
 0041           _Print_Frequenz::
 0041                   .dbline -1
 0041 10                push X
 0042 4F                mov X,SP
 0043 3814              add SP,20
 0045                   .dbline 74
 0045           ; }
 0045           ; /* function Print the Frequency on display and print the Frequency to the CAT USB Port
 0045           ;    Argument : none
 0045           ;    Return   : none
 0045           ; #########################################################################################################################*/
 0045           ; void Print_Frequenz (void )
 0045           ; {
 0045                   .dbline 79
 0045           ; char e[11];
 0045           ; char d[4];
 0045           ; char c[5];    
 0045           ;       
 0045           ;       if ((TXstatus & 18)==18){ 
 0045 510B              mov A,[_TXstatus]
 0047 2112              and A,18
 0049 3912              cmp A,18
 004B B0AC              jnz L12
 004D                   .dbline 80
 004D           ;                            if ((TXstatus & 8)==0){
 004D                   .dbline 80
 004D 470B08            tst [_TXstatus],8
 0050 B054              jnz L14
 0052                   .dbline 81
 0052           ;                                                          ltoa(e,frequenz-shift,10);
 0052                   .dbline 81
 0052 5000              mov A,0
 0054 08                push A
 0055 500A              mov A,10
 0057 08                push A
 0058 5F0008            mov [__r3],[_shift+1]
 005B 5F0007            mov [__r2],[_shift]
 005E 470080            tst [__r2],-128
 0061 A009              jz X1
 0063 5500FF            mov [__r1],-1
 0066 5500FF            mov [__r0],-1
 0069 8007              jmp X2
 006B           X1:
 006B 550000            mov [__r1],0
 006E 550000            mov [__r0],0
 0071           X2:
 0071 5106              mov A,[_frequenz+3]
 0073 1200              sub A,[__r3]
 0075 5300              mov [__r3],A
 0077 5105              mov A,[_frequenz+2]
 0079 1A00              sbb A,[__r2]
 007B 5300              mov [__r2],A
 007D 5104              mov A,[_frequenz+1]
 007F 1A00              sbb A,[__r1]
 0081 5300              mov [__r1],A
 0083 5103              mov A,[_frequenz]
 0085 1A00              sbb A,[__r0]
 0087 5300              mov [__r0],A
 0089 08                push A
 008A 5100              mov A,[__r1]
 008C 08                push A
 008D 5100              mov A,[__r2]
 008F 08                push A
 0090 5100              mov A,[__r3]
 0092 08                push A
 0093 5A00              mov [__r1],X
 0095 060009            add [__r1],9
 0098 5100              mov A,[__r0]
 009A 08                push A
 009B 5100              mov A,[__r1]
 009D 08                push A
 009E 7C0000            xcall _ltoa
 00A1 38F8              add SP,-8
 00A3                   .dbline 82
 00A3           ;                                                                              }
 00A3 8076              xjmp L13
 00A5           L14:
 00A5                   .dbline 84
 00A5           ;                                                                               else
 00A5           ;                                                                              {
 00A5                   .dbline 85
 00A5           ;                                                                                               ltoa(e,frequenz+shift,10);
 00A5 5000              mov A,0
 00A7 08                push A
 00A8 500A              mov A,10
 00AA 08                push A
 00AB 5F0008            mov [__r3],[_shift+1]
 00AE 5F0007            mov [__r2],[_shift]
 00B1 470080            tst [__r2],-128
 00B4 A009              jz X3
 00B6 5500FF            mov [__r1],-1
 00B9 5500FF            mov [__r0],-1
 00BC 8007              jmp X4
 00BE           X3:
 00BE 550000            mov [__r1],0
 00C1 550000            mov [__r0],0
 00C4           X4:
 00C4 5106              mov A,[_frequenz+3]
 00C6 0200              add A,[__r3]
 00C8 5300              mov [__r3],A
 00CA 5105              mov A,[_frequenz+2]
 00CC 0A00              adc A,[__r2]
 00CE 5300              mov [__r2],A
 00D0 5104              mov A,[_frequenz+1]
 00D2 0A00              adc A,[__r1]
 00D4 5300              mov [__r1],A
 00D6 5103              mov A,[_frequenz]
 00D8 0A00              adc A,[__r0]
 00DA 5300              mov [__r0],A
 00DC 08                push A
 00DD 5100              mov A,[__r1]
 00DF 08                push A
 00E0 5100              mov A,[__r2]
 00E2 08                push A
 00E3 5100              mov A,[__r3]
 00E5 08                push A
 00E6 5A00              mov [__r1],X
 00E8 060009            add [__r1],9
 00EB 5100              mov A,[__r0]
 00ED 08                push A
 00EE 5100              mov A,[__r1]
 00F0 08                push A
 00F1 7C0000            xcall _ltoa
 00F4 38F8              add SP,-8
 00F6                   .dbline 86
 00F6           ;                                                                                                       }
 00F6                   .dbline 87
 00F6           ;                               }
 00F6 8023              xjmp L13
 00F8           L12:
 00F8                   .dbline 89
 00F8           ;                      else     
 00F8           ;                               {
 00F8                   .dbline 90
 00F8           ;                                                       ltoa(e,frequenz,10);
 00F8 5000              mov A,0
 00FA 08                push A
 00FB 500A              mov A,10
 00FD 08                push A
 00FE 5103              mov A,[_frequenz]
 0100 08                push A
 0101 5104              mov A,[_frequenz+1]
 0103 08                push A
 0104 5105              mov A,[_frequenz+2]
 0106 08                push A
 0107 5106              mov A,[_frequenz+3]
 0109 08                push A
 010A 5A00              mov [__r1],X
 010C 060009            add [__r1],9
 010F 5100              mov A,[__r0]
 0111 08                push A
 0112 5100              mov A,[__r1]
 0114 08                push A
 0115 7C0000            xcall _ltoa
 0118 38F8              add SP,-8
 011A                   .dbline 92
 011A           ;                                         
 011A           ;                            }          
 011A           L13:
 011A                   .dbline 93
 011A           ;     strncpy(d,e+0,3);
 011A 5000              mov A,0
 011C 08                push A
 011D 5003              mov A,3
 011F 08                push A
 0120 5A00              mov [__r1],X
 0122 060009            add [__r1],9
 0125 5100              mov A,[__r0]
 0127 08                push A
 0128 5100              mov A,[__r1]
 012A 08                push A
 012B 5100              mov A,[__r0]
 012D 08                push A
 012E 10                push X
 012F 7C0000            xcall _strncpy
 0132                   .dbline 94
 0132           ;       d[3]='\0';
 0132 560300            mov [X+3],0
 0135                   .dbline 95
 0135           ;       strncpy(c,e+3,4); 
 0135 5000              mov A,0
 0137 08                push A
 0138 5004              mov A,4
 013A 08                push A
 013B 5A00              mov [__r1],X
 013D 06000C            add [__r1],12
 0140 5100              mov A,[__r0]
 0142 08                push A
 0143 5100              mov A,[__r1]
 0145 08                push A
 0146 5A00              mov [__r1],X
 0148 060004            add [__r1],4
 014B 5100              mov A,[__r0]
 014D 08                push A
 014E 5100              mov A,[__r1]
 0150 08                push A
 0151 7C0000            xcall _strncpy
 0154 38F4              add SP,-12
 0156                   .dbline 96
 0156           ;       c[4]='\0';                                              
 0156 560800            mov [X+8],0
 0159                   .dbline 97
 0159           ;                                               LCD_1_Position(0,0);
 0159 10                push X
 015A 5000              mov A,0
 015C 5700              mov X,0
 015E 7C0000            xcall _LCD_1_Position
 0161                   .dbline 98
 0161           ;                                               LCD_1_PrCString("QRG:");
 0161 50DB              mov A,>L19
 0163 08                push A
 0164 50DB              mov A,<L19
 0166 5C                mov X,A
 0167 18                pop A
 0168 7C0000            xcall _LCD_1_PrCString
 016B 20                pop X
 016C                   .dbline 99
 016C           ;                                       LCD_1_PrString(d);                              
 016C 10                push X
 016D 5100              mov A,[__r0]
 016F 7C0000            xcall _LCD_1_PrString
 0172                   .dbline 100
 0172           ;                                               LCD_1_WriteData(0x2e);
 0172 502E              mov A,46
 0174 7C0000            xcall _LCD_1_WriteData
 0177 20                pop X
 0178                   .dbline 101
 0178           ;                                       LCD_1_PrString(c);
 0178 5A00              mov [__r1],X
 017A 060004            add [__r1],4
 017D 10                push X
 017E 5100              mov A,[__r0]
 0180 08                push A
 0181 5100              mov A,[__r1]
 0183 5C                mov X,A
 0184 18                pop A
 0185 7C0000            xcall _LCD_1_PrString
 0188                   .dbline 103
 0188           ; 
 0188           ;                                       UART_2_CPutString("TRX Status:");       
 0188 50CF              mov A,>L20
 018A 08                push A
 018B 50CF              mov A,<L20
 018D 5C                mov X,A
 018E 18                pop A
 018F 7C0000            xcall _UART_2_CPutString
 0192 20                pop X
 0193                   .dbline 104
 0193           ;                                       UART_2_PutString(d);    
 0193 10                push X
 0194 5100              mov A,[__r0]
 0196 7C0000            xcall _UART_2_PutString
 0199                   .dbline 105
 0199           ;                                       UART_2_PutChar(0x2e);                                   
 0199 502E              mov A,46
 019B 7C0000            xcall _UART_2_PutChar
 019E 20                pop X
 019F                   .dbline 106
 019F           ;                                       UART_2_PutString(c);
 019F 5A00              mov [__r1],X
 01A1 060004            add [__r1],4
 01A4 10                push X
 01A5 5100              mov A,[__r0]
 01A7 08                push A
 01A8 5100              mov A,[__r1]
 01AA 5C                mov X,A
 01AB 18                pop A
 01AC 7C0000            xcall _UART_2_PutString
 01AF                   .dbline 107
 01AF           ;                                       UART_2_PutCRLF();
 01AF 7C0000            xcall _UART_2_PutCRLF
 01B2 20                pop X
 01B3                   .dbline -2
 01B3           L11:
 01B3 38EC              add SP,-20
 01B5 20                pop X
 01B6                   .dbline 0 ; func end
 01B6 7F                ret
 01B7                   .dbsym l e 9 A[11:11]c
 01B7                   .dbsym l c 4 A[5:5]c
 01B7                   .dbsym l d 0 A[4:4]c
 01B7                   .dbend
 01B7                   .dbfunc e eprom _eprom fV
 01B7           ;         status -> X+64
 01B7           ;              f -> X+0
 01B7           ;              x -> X-4
 01B7           _eprom::
 01B7                   .dbline -1
 01B7 10                push X
 01B8 4F                mov X,SP
 01B9 3841              add SP,65
 01BB                   .dbline 114
 01BB           ; }
 01BB           ; /* function read or Write changes from the HAM to EEprom
 01BB           ;    Argument : char 1 for Read  or 0 for Write
 01BB           ;    Return   : none
 01BB           ; #########################################################################################################################*/
 01BB           ; void eprom(unsigned char x)
 01BB           ; {
 01BB                   .dbline 117
 01BB           ; BYTE f[64];
 01BB           ; unsigned char status;
 01BB           ; E2PROM_1_Start();     
 01BB 10                push X
 01BC 7C0000            xcall _E2PROM_1_Start
 01BF 20                pop X
 01C0                   .dbline 118
 01C0           ; if (x==1) {
 01C0 3DFC01            cmp [X-4],1
 01C3 B088              jnz L22
 01C5                   .dbline 120
 01C5           ;              
 01C5           ;            E2PROM_1_E2Read( 0,f,64);
 01C5                   .dbline 120
 01C5 10                push X
 01C6 5000              mov A,0
 01C8 08                push A
 01C9 5040              mov A,64
 01CB 08                push A
 01CC 5100              mov A,[__r0]
 01CE 08                push A
 01CF 10                push X
 01D0 5000              mov A,0
 01D2 08                push A
 01D3 08                push A
 01D4 7C0000            xcall _E2PROM_1_E2Read
 01D7 38FA              add SP,-6
 01D9 20                pop X
 01DA                   .dbline 121
 01DA           ;            if ((f[1]!=0x30)&&(f[2]!=0x30))
 01DA 3D0130            cmp [X+1],48
 01DD A048              jz L24
 01DF 3D0230            cmp [X+2],48
 01E2 A043              jz L24
 01E4                   .dbline 123
 01E4           ;                                 {
 01E4           ;                                                                 frequenz=atol(f);
 01E4                   .dbline 123
 01E4 5100              mov A,[__r0]
 01E6 08                push A
 01E7 10                push X
 01E8 7C0000            xcall _atol
 01EB 5F0300            mov [_frequenz],[__r0]
 01EE 5F0400            mov [_frequenz+1],[__r1]
 01F1 5F0500            mov [_frequenz+2],[__r2]
 01F4 5F0600            mov [_frequenz+3],[__r3]
 01F7                   .dbline 124
 01F7           ;                                                                 shift=atoi(f+8);
 01F7 5A00              mov [__r1],X
 01F9 060008            add [__r1],8
 01FC 5100              mov A,[__r0]
 01FE 08                push A
 01FF 5100              mov A,[__r1]
 0201 08                push A
 0202 7C0000            xcall _atoi
 0205 38FC              add SP,-4
 0207 5F0800            mov [_shift+1],[__r1]
 020A 5F0700            mov [_shift],[__r0]
 020D                   .dbline 125
 020D           ;                                     filter=f[12];
 020D 520C              mov A,[X+12]
 020F 530C              mov [_filter],A
 0211                   .dbline 126
 0211           ;                                     Squelch=f[13];
 0211 520D              mov A,[X+13]
 0213 5301              mov [_Squelch],A
 0215                   .dbline 127
 0215           ;                                                                 volume=f[14];
 0215 520E              mov A,[X+14]
 0217 5302              mov [_volume],A
 0219                   .dbline 128
 0219           ;                                                                 TXstatus=f[15];
 0219 520F              mov A,[X+15]
 021B 530B              mov [_TXstatus],A
 021D                   .dbline 129
 021D           ;                                                                 micgain=f[16];
 021D 5210              mov A,[X+16]
 021F 5300              mov [_micgain],A
 0221                   .dbline 130
 0221           ;                                                                 TXstatus &=0x7f;
 0221 260B7F            and [_TXstatus],127
 0224                   .dbline 131
 0224           ;                                                               }       
 0224 808D              xjmp L23
 0226           L24:
 0226                   .dbline 133
 0226           ;                       else 
 0226           ;                                                               {
 0226                   .dbline 134
 0226           ;                                                               frequenz=1448000;
 0226 550300            mov [_frequenz],0
 0229 550416            mov [_frequenz+1],22
 022C 550518            mov [_frequenz+2],24
 022F 550640            mov [_frequenz+3],64
 0232                   .dbline 135
 0232           ;                                                                       shift=6000;
 0232 550870            mov [_shift+1],112
 0235 550717            mov [_shift],23
 0238                   .dbline 136
 0238           ;                                                                       filter=3;
 0238 550C03            mov [_filter],3
 023B                   .dbline 137
 023B           ;                                                                       Squelch=2;
 023B 550102            mov [_Squelch],2
 023E                   .dbline 138
 023E           ;                                                                       volume=2;
 023E 550202            mov [_volume],2
 0241                   .dbline 139
 0241           ;                                                                       TXstatus=5;
 0241 550B05            mov [_TXstatus],5
 0244                   .dbline 140
 0244           ;                                                                       TXstatus2=0;
 0244 550A00            mov [_TXstatus2],0
 0247                   .dbline 141
 0247           ;                                                                       micgain=5;
 0247 550005            mov [_micgain],5
 024A                   .dbline 142
 024A           ;                                                               }
 024A                   .dbline 143
 024A           ;          }                                            
 024A 8067              xjmp L23
 024C           L22:
 024C                   .dbline 145
 024C           ;    else                                                                         
 024C           ;               {       
 024C                   .dbline 146
 024C           ;                       ltoa(f,frequenz,10);
 024C 5000              mov A,0
 024E 08                push A
 024F 500A              mov A,10
 0251 08                push A
 0252 5103              mov A,[_frequenz]
 0254 08                push A
 0255 5104              mov A,[_frequenz+1]
 0257 08                push A
 0258 5105              mov A,[_frequenz+2]
 025A 08                push A
 025B 5106              mov A,[_frequenz+3]
 025D 08                push A
 025E 5100              mov A,[__r0]
 0260 08                push A
 0261 10                push X
 0262 7C0000            xcall _ltoa
 0265                   .dbline 147
 0265           ;                       f[7]=32;
 0265 560720            mov [X+7],32
 0268                   .dbline 148
 0268           ;                       itoa(f+8,shift,10);
 0268 5000              mov A,0
 026A 08                push A
 026B 500A              mov A,10
 026D 08                push A
 026E 5107              mov A,[_shift]
 0270 08                push A
 0271 5108              mov A,[_shift+1]
 0273 08                push A
 0274 5A00              mov [__r1],X
 0276 060008            add [__r1],8
 0279 5100              mov A,[__r0]
 027B 08                push A
 027C 5100              mov A,[__r1]
 027E 08                push A
 027F 7C0000            xcall _itoa
 0282 38F2              add SP,-14
 0284                   .dbline 149
 0284           ;                       f[12]=filter;
 0284 510C              mov A,[_filter]
 0286 540C              mov [X+12],A
 0288                   .dbline 150
 0288           ;                       f[13]=Squelch;
 0288 5101              mov A,[_Squelch]
 028A 540D              mov [X+13],A
 028C                   .dbline 151
 028C           ;                       f[14]=volume;
 028C 5102              mov A,[_volume]
 028E 540E              mov [X+14],A
 0290                   .dbline 152
 0290           ;                       f[15]=TXstatus;
 0290 510B              mov A,[_TXstatus]
 0292 540F              mov [X+15],A
 0294                   .dbline 153
 0294           ;                       f[16]=micgain;
 0294 5100              mov A,[_micgain]
 0296 5410              mov [X+16],A
 0298                   .dbline 155
 0298           ;               
 0298           ;               status= E2PROM_1_bE2Write(0,f,64,25);   
 0298 10                push X
 0299 5019              mov A,25
 029B 08                push A
 029C 5000              mov A,0
 029E 08                push A
 029F 5040              mov A,64
 02A1 08                push A
 02A2 5100              mov A,[__r0]
 02A4 08                push A
 02A5 10                push X
 02A6 5000              mov A,0
 02A8 08                push A
 02A9 08                push A
 02AA 7C0000            xcall _E2PROM_1_bE2Write
 02AD 38F9              add SP,-7
 02AF 20                pop X
 02B0 5440              mov [X+64],A
 02B2                   .dbline 156
 02B2           ;               }
 02B2           L23:
 02B2                   .dbline 157
 02B2           ;       E2PROM_1_Stop();        
 02B2 10                push X
 02B3 7C0000            xcall _E2PROM_1_Stop
 02B6 20                pop X
 02B7                   .dbline -2
 02B7           L21:
 02B7 38BF              add SP,-65
 02B9 20                pop X
 02BA                   .dbline 0 ; func end
 02BA 7F                ret
 02BB                   .dbsym l status 64 c
 02BB                   .dbsym l f 0 A[64:64]c
 02BB                   .dbsym l x -4 c
 02BB                   .dbend
 02BB                   .dbfunc e get_voltage _get_voltage fD
 02BB           ;             sp -> X+4
 02BB           ;           mess -> X+2
 02BB           ;          mess1 -> X+1
 02BB           ;              i -> X+0
 02BB           _get_voltage::
 02BB                   .dbline -1
 02BB 10                push X
 02BC 4F                mov X,SP
 02BD 3808              add SP,8
 02BF                   .dbline 173
 02BF           ;  }
 02BF           ; /*void get_response(unsigned char anzahl)
 02BF           ;                            {
 02BF           ;                                                   register unsigned char i;
 02BF           ;                                                       responsebuffer[0]=UART_1_cGetChar();
 02BF           ;                                                       for (i=0;i<anzahl-1;i++){
 02BF           ;                                                                             responsebuffer[i]=UART_1_cGetChar();
 02BF           ;                                             }                 
 02BF           ;                                                       }
 02BF           ; */
 02BF           ; /* function measure the volt from the Device
 02BF           ;    Argument : none
 02BF           ;    Return   : float measure Value in Volt
 02BF           ; #########################################################################################################################*/
 02BF           ; float get_voltage(void)
 02BF           ; {             
 02BF                   .dbline 178
 02BF           ; int mess;
 02BF           ; char mess1;
 02BF           ; float sp;     
 02BF           ; register unsigned char i;
 02BF           ;     mess=0;
 02BF 560300            mov [X+3],0
 02C2 560200            mov [X+2],0
 02C5                   .dbline 179
 02C5           ;       PGA_1_Start(PGA_1_HIGHPOWER);
 02C5 10                push X
 02C6 5003              mov A,3
 02C8 7C0000            xcall _PGA_1_Start
 02CB                   .dbline 180
 02CB           ;       ADCINC_1_Start(ADCINC_1_HIGHPOWER);
 02CB 5003              mov A,3
 02CD 7C0000            xcall _ADCINC_1_Start
 02D0                   .dbline 181
 02D0           ;       ADCINC_1_GetSamples(0);
 02D0 5000              mov A,0
 02D2 7C0000            xcall _ADCINC_1_GetSamples
 02D5 20                pop X
 02D6                   .dbline 182
 02D6           ;       warte(100);
 02D6 5000              mov A,0
 02D8 08                push A
 02D9 5064              mov A,100
 02DB 08                push A
 02DC 9D2A              xcall _warte
 02DE 38FE              add SP,-2
 02E0                   .dbline 183
 02E0           ;       for (i=1;i<11;i++)
 02E0 560001            mov [X+0],1
 02E3 8023              xjmp L45
 02E5           L46:
 02E5                   .dbline 185
 02E5           ;                                {
 02E5           ;                                                        while (ADCINC_1_fIsDataAvailable() == 0){
 02E5                   .dbline 186
 02E5           ;                                                                                        }
 02E5           L47:
 02E5                   .dbline 185
 02E5 10                push X
 02E6 7C0000            xcall _ADCINC_1_fIsDataAvailable
 02E9 20                pop X
 02EA 3900              cmp A,0
 02EC AFF8              jz L46
 02EE                   .dbline 187
 02EE           ;                             mess1=ADCINC_1_bClearFlagGetData();                                                       
 02EE 10                push X
 02EF 7C0000            xcall _ADCINC_1_bClearFlagGetData
 02F2 20                pop X
 02F3 5401              mov [X+1],A
 02F5                   .dbline 188
 02F5           ;                                                       mess=mess+mess1;
 02F5 5201              mov A,[X+1]
 02F7 0503              add [X+3],A
 02F9 5000              mov A,0
 02FB 0F0200            adc [X+2],0
 02FE                   .dbline 189
 02FE           ;                                                       mess1=ADCINC_1_fClearFlag();
 02FE 10                push X
 02FF 7C0000            xcall _ADCINC_1_fClearFlag
 0302 20                pop X
 0303 5401              mov [X+1],A
 0305                   .dbline 190
 0305           ;                                 }                                             
 0305           L43:
 0305                   .dbline 183
 0305 7700              inc [X+0]
 0307           L45:
 0307                   .dbline 183
 0307 3D000B            cmp [X+0],11
 030A CFDA              jc L47
 030C           X5:
 030C                   .dbline 191
 030C           ;       sp=(mess/10)*0.012890625;                               
 030C 5000              mov A,0
 030E 08                push A
 030F 500A              mov A,10
 0311 08                push A
 0312 5202              mov A,[X+2]
 0314 08                push A
 0315 5203              mov A,[X+3]
 0317 08                push A
 0318 7C0000            xcall __divmod_16X16_16
 031B 18                pop A
 031C 5300              mov [__r1],A
 031E 18                pop A
 031F 38FE              add SP,-2
 0321 5F0000            mov [__r3],[__r1]
 0324 5300              mov [__r2],A
 0326 470080            tst [__r2],-128
 0329 A009              jz X6
 032B 5500FF            mov [__r1],-1
 032E 5500FF            mov [__r0],-1
 0331 8007              jmp X7
 0333           X6:
 0333 550000            mov [__r1],0
 0336 550000            mov [__r0],0
 0339           X7:
 0339 5100              mov A,[__r0]
 033B 08                push A
 033C 5100              mov A,[__r1]
 033E 08                push A
 033F 5100              mov A,[__r2]
 0341 08                push A
 0342 5100              mov A,[__r3]
 0344 08                push A
 0345 7C0000            xcall __long2fp
 0348 18                pop A
 0349 5300              mov [__r3],A
 034B 18                pop A
 034C 5300              mov [__r2],A
 034E 18                pop A
 034F 5300              mov [__r1],A
 0351 18                pop A
 0352 08                push A
 0353 5100              mov A,[__r1]
 0355 08                push A
 0356 5100              mov A,[__r2]
 0358 08                push A
 0359 5100              mov A,[__r3]
 035B 08                push A
 035C 503C              mov A,60
 035E 08                push A
 035F 5053              mov A,83
 0361 08                push A
 0362 5033              mov A,51
 0364 08                push A
 0365 08                push A
 0366 7C0000            xcall __fpmul
 0369 18                pop A
 036A 5407              mov [X+7],A
 036C 18                pop A
 036D 5406              mov [X+6],A
 036F 18                pop A
 0370 5405              mov [X+5],A
 0372 18                pop A
 0373 5404              mov [X+4],A
 0375 38FC              add SP,-4
 0377                   .dbline 192
 0377           ;       sp=((26.8*sp)/6.8)+0.5; 
 0377 5204              mov A,[X+4]
 0379 08                push A
 037A 5205              mov A,[X+5]
 037C 08                push A
 037D 5206              mov A,[X+6]
 037F 08                push A
 0380 5207              mov A,[X+7]
 0382 08                push A
 0383 5041              mov A,65
 0385 08                push A
 0386 50D6              mov A,-42
 0388 08                push A
 0389 5066              mov A,102
 038B 08                push A
 038C 08                push A
 038D 7C0000            xcall __fpmul
 0390 18                pop A
 0391 5300              mov [__r3],A
 0393 18                pop A
 0394 5300              mov [__r2],A
 0396 18                pop A
 0397 5300              mov [__r1],A
 0399 18                pop A
 039A 5300              mov [__r0],A
 039C 38FC              add SP,-4
 039E 5040              mov A,64
 03A0 08                push A
 03A1 50D9              mov A,-39
 03A3 08                push A
 03A4 5099              mov A,-103
 03A6 08                push A
 03A7 509A              mov A,-102
 03A9 08                push A
 03AA 5100              mov A,[__r0]
 03AC 08                push A
 03AD 5100              mov A,[__r1]
 03AF 08                push A
 03B0 5100              mov A,[__r2]
 03B2 08                push A
 03B3 5100              mov A,[__r3]
 03B5 08                push A
 03B6 7C0000            xcall __fpdiv
 03B9 18                pop A
 03BA 5300              mov [__r3],A
 03BC 18                pop A
 03BD 5300              mov [__r2],A
 03BF 18                pop A
 03C0 5300              mov [__r1],A
 03C2 18                pop A
 03C3 5300              mov [__r0],A
 03C5 38FC              add SP,-4
 03C7 503F              mov A,63
 03C9 08                push A
 03CA 5000              mov A,0
 03CC 08                push A
 03CD 08                push A
 03CE 08                push A
 03CF 5100              mov A,[__r0]
 03D1 08                push A
 03D2 5100              mov A,[__r1]
 03D4 08                push A
 03D5 5100              mov A,[__r2]
 03D7 08                push A
 03D8 5100              mov A,[__r3]
 03DA 08                push A
 03DB 7C0000            xcall __fpadd
 03DE 18                pop A
 03DF 5407              mov [X+7],A
 03E1 18                pop A
 03E2 5406              mov [X+6],A
 03E4 18                pop A
 03E5 5405              mov [X+5],A
 03E7 18                pop A
 03E8 5404              mov [X+4],A
 03EA 38FC              add SP,-4
 03EC                   .dbline 193
 03EC           ;       PGA_1_Stop();
 03EC 10                push X
 03ED 7C0000            xcall _PGA_1_Stop
 03F0                   .dbline 194
 03F0           ;       ADCINC_1_Stop();
 03F0 7C0000            xcall _ADCINC_1_Stop
 03F3 20                pop X
 03F4                   .dbline 195
 03F4           ; return sp;                                                    
 03F4 5204              mov A,[X+4]
 03F6 5300              mov [__r0],A
 03F8 5205              mov A,[X+5]
 03FA 5300              mov [__r1],A
 03FC 5206              mov A,[X+6]
 03FE 5300              mov [__r2],A
 0400 5207              mov A,[X+7]
 0402 5300              mov [__r3],A
 0404                   .dbline -2
 0404           L41:
 0404 38F8              add SP,-8
 0406 20                pop X
 0407                   .dbline 0 ; func end
 0407 7F                ret
 0408                   .dbsym l sp 4 D
 0408                   .dbsym l mess 2 I
 0408                   .dbsym l mess1 1 c
 0408                   .dbsym l i 0 c
 0408                   .dbend
 0408                   .dbfunc e print_voltage _print_voltage fV
 0408           ;              t -> X+8
 0408           ;       Spannung -> X+4
 0408           ;           help -> X+0
 0408           ;         device -> X-4
 0408           _print_voltage::
 0408                   .dbline -1
 0408 10                push X
 0409 4F                mov X,SP
 040A 380A              add SP,10
 040C                   .dbline 202
 040C           ; }
 040C           ; /* function Print the Voltage on the Display or CAT USB Port
 040C           ;    Argument : device=1 Print to CAT Port/ device= 0 Print to Display
 040C           ;    Return   : none
 040C           ; #########################################################################################################################*/
 040C           ; void  print_voltage(char device)
 040C           ; {
 040C                   .dbline 206
 040C           ; char help[4];
 040C           ; int t;
 040C           ; float Spannung;
 040C           ; Spannung=get_voltage();       
 040C 9EAD              xcall _get_voltage
 040E 5100              mov A,[__r0]
 0410 5404              mov [X+4],A
 0412 5100              mov A,[__r1]
 0414 5405              mov [X+5],A
 0416 5100              mov A,[__r2]
 0418 5406              mov [X+6],A
 041A 5100              mov A,[__r3]
 041C 5407              mov [X+7],A
 041E                   .dbline 207
 041E           ; strncpy(help,ftoa(Spannung,&t),4);
 041E 5A00              mov [__r1],X
 0420 060008            add [__r1],8
 0423 5100              mov A,[__r0]
 0425 08                push A
 0426 5100              mov A,[__r1]
 0428 08                push A
 0429 5204              mov A,[X+4]
 042B 08                push A
 042C 5205              mov A,[X+5]
 042E 08                push A
 042F 5206              mov A,[X+6]
 0431 08                push A
 0432 5207              mov A,[X+7]
 0434 08                push A
 0435 7C0000            xcall _ftoa
 0438 5000              mov A,0
 043A 08                push A
 043B 5004              mov A,4
 043D 08                push A
 043E 5100              mov A,[__r0]
 0440 08                push A
 0441 5100              mov A,[__r1]
 0443 08                push A
 0444 5100              mov A,[__r0]
 0446 08                push A
 0447 10                push X
 0448 7C0000            xcall _strncpy
 044B 38F4              add SP,-12
 044D                   .dbline 208
 044D           ; help[4]='\0';
 044D 560400            mov [X+4],0
 0450                   .dbline 209
 0450           ; if (device==1){
 0450 3DFC01            cmp [X-4],1
 0453 B017              jnz L51
 0455                   .dbline 210
 0455           ;                UART_2_PutString(help);
 0455                   .dbline 210
 0455 10                push X
 0456 5100              mov A,[__r0]
 0458 7C0000            xcall _UART_2_PutString
 045B                   .dbline 211
 045B           ;                UART_2_CPutString(" Volt");
 045B 50C9              mov A,>L53
 045D 08                push A
 045E 50C9              mov A,<L53
 0460 5C                mov X,A
 0461 18                pop A
 0462 7C0000            xcall _UART_2_CPutString
 0465                   .dbline 212
 0465           ;                UART_2_PutCRLF();
 0465 7C0000            xcall _UART_2_PutCRLF
 0468 20                pop X
 0469                   .dbline 213
 0469           ; }
 0469 801B              xjmp L52
 046B           L51:
 046B                   .dbline 215
 046B           ; else 
 046B           ;    {
 046B                   .dbline 216
 046B           ;       LCD_1_Position(0,14);
 046B 10                push X
 046C 570E              mov X,14
 046E 5000              mov A,0
 0470 7C0000            xcall _LCD_1_Position
 0473 20                pop X
 0474                   .dbline 217
 0474           ;       LCD_1_PrString(help);
 0474 10                push X
 0475 5100              mov A,[__r0]
 0477 7C0000            xcall _LCD_1_PrString
 047A                   .dbline 218
 047A           ;       LCD_1_PrCString(" V");
 047A 50C6              mov A,>L54
 047C 08                push A
 047D 50C6              mov A,<L54
 047F 5C                mov X,A
 0480 18                pop A
 0481 7C0000            xcall _LCD_1_PrCString
 0484 20                pop X
 0485                   .dbline 219
 0485           ; }
 0485           L52:
 0485                   .dbline -2
 0485           L49:
 0485 38F6              add SP,-10
 0487 20                pop X
 0488                   .dbline 0 ; func end
 0488 7F                ret
 0489                   .dbsym l t 8 I
 0489                   .dbsym l Spannung 4 D
 0489                   .dbsym l help 0 A[4:4]c
 0489                   .dbsym l device -4 c
 0489                   .dbend
 0489                   .dbfunc e Print_Status2 _Print_Status2 fV
 0489           _Print_Status2::
 0489                   .dbline -1
 0489                   .dbline 226
 0489           ; }
 0489           ; /* function  Print Status 2 on the Display and Cat USB Port
 0489           ;    Argument : none
 0489           ;    Return   : none
 0489           ; #########################################################################################################################*/
 0489           ; void Print_Status2(void)
 0489           ; {
 0489                   .dbline 227
 0489           ;       LCD_1_Position(2,0);
 0489 10                push X
 048A 5700              mov X,0
 048C 5002              mov A,2
 048E 7C0000            xcall _LCD_1_Position
 0491                   .dbline 228
 0491           ;       LCD_1_PrCString("Mic:");
 0491 50C1              mov A,>L56
 0493 08                push A
 0494 50C1              mov A,<L56
 0496 5C                mov X,A
 0497 18                pop A
 0498 7C0000            xcall _LCD_1_PrCString
 049B 20                pop X
 049C                   .dbline 229
 049C           ;     LCD_1_Write_Data(micgain+48);
 049C 5100              mov A,[_micgain]
 049E 0130              add A,48
 04A0 10                push X
 04A1 7C0000            xcall _LCD_1_Write_Data
 04A4                   .dbline 230
 04A4           ;       UART_2_CPutString("Mic:");
 04A4 50C1              mov A,>L56
 04A6 08                push A
 04A7 50C1              mov A,<L56
 04A9 5C                mov X,A
 04AA 18                pop A
 04AB 7C0000            xcall _UART_2_CPutString
 04AE 20                pop X
 04AF                   .dbline 231
 04AF           ;       UART_2_PutChar(micgain+48);
 04AF 5100              mov A,[_micgain]
 04B1 0130              add A,48
 04B3 10                push X
 04B4 7C0000            xcall _UART_2_PutChar
 04B7                   .dbline 232
 04B7           ;       UART_2_PutChar(0x20);
 04B7 5020              mov A,32
 04B9 7C0000            xcall _UART_2_PutChar
 04BC                   .dbline 233
 04BC           ;       LCD_1_WriteData(0x20);
 04BC 5020              mov A,32
 04BE 7C0000            xcall _LCD_1_WriteData
 04C1                   .dbline 245
 04C1           ;       /*LCD_1_PrCString("Func:");
 04C1           ;       UART_2_CPutString("Func:");
 04C1           ;       if ((TXstatus2 & 1)==0){
 04C1           ;                                  LCD_1_PrCString("Norm");
 04C1           ;                                  UART_2_CPutString("Norm");
 04C1           ;                            }
 04C1           ;             else     
 04C1           ;                               {
 04C1           ;                                          LCD_1_PrCString("APRS");
 04C1           ;                                               UART_2_CPutString("APRS");
 04C1           ;                            }  */
 04C1           ;       UART_2_PutChar(0x20);
 04C1 5020              mov A,32
 04C3 7C0000            xcall _UART_2_PutChar
 04C6                   .dbline 246
 04C6           ;       LCD_1_PrCString("Vox:");
 04C6 50BC              mov A,>L57
 04C8 08                push A
 04C9 50BC              mov A,<L57
 04CB 5C                mov X,A
 04CC 18                pop A
 04CD 7C0000            xcall _LCD_1_PrCString
 04D0                   .dbline 247
 04D0           ;       UART_2_CPutString("Vox:");      
 04D0 50BC              mov A,>L57
 04D2 08                push A
 04D3 50BC              mov A,<L57
 04D5 5C                mov X,A
 04D6 18                pop A
 04D7 7C0000            xcall _UART_2_CPutString
 04DA 20                pop X
 04DB                   .dbline 248
 04DB           ;       if ((TXstatus & 64)==0){
 04DB 470B40            tst [_TXstatus],64
 04DE B019              jnz L58
 04E0                   .dbline 249
 04E0           ;                                  LCD_1_PrCString("off");
 04E0                   .dbline 249
 04E0 10                push X
 04E1 50B8              mov A,>L60
 04E3 08                push A
 04E4 50B8              mov A,<L60
 04E6 5C                mov X,A
 04E7 18                pop A
 04E8 7C0000            xcall _LCD_1_PrCString
 04EB                   .dbline 250
 04EB           ;                                  UART_2_CPutString("off");
 04EB 50B8              mov A,>L60
 04ED 08                push A
 04EE 50B8              mov A,<L60
 04F0 5C                mov X,A
 04F1 18                pop A
 04F2 7C0000            xcall _UART_2_CPutString
 04F5 20                pop X
 04F6                   .dbline 251
 04F6           ;                            }
 04F6 8017              xjmp L59
 04F8           L58:
 04F8                   .dbline 253
 04F8           ;             else     
 04F8           ;                               {
 04F8                   .dbline 254
 04F8           ;                                          LCD_1_PrCString("on ");
 04F8 10                push X
 04F9 50B4              mov A,>L61
 04FB 08                push A
 04FC 50B4              mov A,<L61
 04FE 5C                mov X,A
 04FF 18                pop A
 0500 7C0000            xcall _LCD_1_PrCString
 0503                   .dbline 255
 0503           ;                                               UART_2_CPutString("on ");
 0503 50B4              mov A,>L61
 0505 08                push A
 0506 50B4              mov A,<L61
 0508 5C                mov X,A
 0509 18                pop A
 050A 7C0000            xcall _UART_2_CPutString
 050D 20                pop X
 050E                   .dbline 256
 050E           ;                            }                                          
 050E           L59:
 050E                   .dbline 257
 050E           ;       UART_2_PutCRLF();                                       
 050E 10                push X
 050F 7C0000            xcall _UART_2_PutCRLF
 0512 20                pop X
 0513                   .dbline -2
 0513           L55:
 0513                   .dbline 0 ; func end
 0513 7F                ret
 0514                   .dbend
 0514                   .dbfunc e Print_status _Print_status fV
 0514           _Print_status::
 0514                   .dbline -1
 0514                   .dbline 264
 0514           ; }
 0514           ; /* function  Print Status 1 on the Display and Cat USB Port
 0514           ;    Argument : none
 0514           ;    Return   : none
 0514           ; #########################################################################################################################*/
 0514           ; void Print_status(void)
 0514           ; {     
 0514                   .dbline 265
 0514           ;       LCD_1_Position(3,0);
 0514 10                push X
 0515 5700              mov X,0
 0517 5003              mov A,3
 0519 7C0000            xcall _LCD_1_Position
 051C                   .dbline 266
 051C           ;       LCD_1_PrCString("SQ:");
 051C 50B0              mov A,>L63
 051E 08                push A
 051F 50B0              mov A,<L63
 0521 5C                mov X,A
 0522 18                pop A
 0523 7C0000            xcall _LCD_1_PrCString
 0526 20                pop X
 0527                   .dbline 267
 0527           ;       LCD_1_WriteData(Squelch+48);
 0527 5101              mov A,[_Squelch]
 0529 0130              add A,48
 052B 10                push X
 052C 7C0000            xcall _LCD_1_WriteData
 052F                   .dbline 268
 052F           ;       UART_2_CPutString("SQ:");
 052F 50B0              mov A,>L63
 0531 08                push A
 0532 50B0              mov A,<L63
 0534 5C                mov X,A
 0535 18                pop A
 0536 7C0000            xcall _UART_2_CPutString
 0539 20                pop X
 053A                   .dbline 269
 053A           ;       UART_2_PutChar(Squelch+48);
 053A 5101              mov A,[_Squelch]
 053C 0130              add A,48
 053E 10                push X
 053F 7C0000            xcall _UART_2_PutChar
 0542                   .dbline 270
 0542           ;       UART_2_PutChar(0x20);
 0542 5020              mov A,32
 0544 7C0000            xcall _UART_2_PutChar
 0547                   .dbline 271
 0547           ;       LCD_1_WriteData(0x20);
 0547 5020              mov A,32
 0549 7C0000            xcall _LCD_1_WriteData
 054C                   .dbline 272
 054C           ;       UART_2_CPutString("Mode:");
 054C 50AA              mov A,>L64
 054E 08                push A
 054F 50AA              mov A,<L64
 0551 5C                mov X,A
 0552 18                pop A
 0553 7C0000            xcall _UART_2_CPutString
 0556 20                pop X
 0557                   .dbline 273
 0557           ;       if ((TXstatus & 2)==0){
 0557 470B02            tst [_TXstatus],2
 055A B019              jnz L65
 055C                   .dbline 274
 055C           ;                                  LCD_1_PrCString("Sim");
 055C                   .dbline 274
 055C 10                push X
 055D 50A6              mov A,>L67
 055F 08                push A
 0560 50A6              mov A,<L67
 0562 5C                mov X,A
 0563 18                pop A
 0564 7C0000            xcall _LCD_1_PrCString
 0567                   .dbline 275
 0567           ;                                  UART_2_CPutString("Simplex");
 0567 509E              mov A,>L68
 0569 08                push A
 056A 509E              mov A,<L68
 056C 5C                mov X,A
 056D 18                pop A
 056E 7C0000            xcall _UART_2_CPutString
 0571 20                pop X
 0572                   .dbline 276
 0572           ;                            }
 0572 8017              xjmp L66
 0574           L65:
 0574                   .dbline 278
 0574           ;             else     
 0574           ;                               {
 0574                   .dbline 279
 0574           ;                                          LCD_1_PrCString("Dup");
 0574 10                push X
 0575 509A              mov A,>L69
 0577 08                push A
 0578 509A              mov A,<L69
 057A 5C                mov X,A
 057B 18                pop A
 057C 7C0000            xcall _LCD_1_PrCString
 057F                   .dbline 280
 057F           ;                                               UART_2_CPutString("Duplex");
 057F 5093              mov A,>L70
 0581 08                push A
 0582 5093              mov A,<L70
 0584 5C                mov X,A
 0585 18                pop A
 0586 7C0000            xcall _UART_2_CPutString
 0589 20                pop X
 058A                   .dbline 281
 058A           ;                            }          
 058A           L66:
 058A                   .dbline 282
 058A           ;       UART_2_PutChar(0x20);                                   
 058A 10                push X
 058B 5020              mov A,32
 058D 7C0000            xcall _UART_2_PutChar
 0590                   .dbline 283
 0590           ;       LCD_1_WriteData(0x20);
 0590 5020              mov A,32
 0592 7C0000            xcall _LCD_1_WriteData
 0595                   .dbline 285
 0595           ;       
 0595           ;       LCD_1_PrCString("Fil:");
 0595 508E              mov A,>L71
 0597 08                push A
 0598 508E              mov A,<L71
 059A 5C                mov X,A
 059B 18                pop A
 059C 7C0000            xcall _LCD_1_PrCString
 059F                   .dbline 286
 059F           ;       UART_2_CPutString("Filter:");                   
 059F 5086              mov A,>L72
 05A1 08                push A
 05A2 5086              mov A,<L72
 05A4 5C                mov X,A
 05A5 18                pop A
 05A6 7C0000            xcall _UART_2_CPutString
 05A9 20                pop X
 05AA                   .dbline 287
 05AA           ;       if (filter==0){
 05AA 3C0C00            cmp [_filter],0
 05AD B017              jnz L73
 05AF                   .dbline 288
 05AF           ;                          LCD_1_PrCString("off");
 05AF                   .dbline 288
 05AF 10                push X
 05B0 50B8              mov A,>L60
 05B2 08                push A
 05B3 50B8              mov A,<L60
 05B5 5C                mov X,A
 05B6 18                pop A
 05B7 7C0000            xcall _LCD_1_PrCString
 05BA                   .dbline 289
 05BA           ;                              UART_2_CPutString("off");
 05BA 50B8              mov A,>L60
 05BC 08                push A
 05BD 50B8              mov A,<L60
 05BF 5C                mov X,A
 05C0 18                pop A
 05C1 7C0000            xcall _UART_2_CPutString
 05C4 20                pop X
 05C5                   .dbline 290
 05C5           ;                       }
 05C5           L73:
 05C5                   .dbline 291
 05C5           ;       if (filter==1){
 05C5 3C0C01            cmp [_filter],1
 05C8 B017              jnz L75
 05CA                   .dbline 292
 05CA           ;                          LCD_1_PrCString("PRE");
 05CA                   .dbline 292
 05CA 10                push X
 05CB 5082              mov A,>L77
 05CD 08                push A
 05CE 5082              mov A,<L77
 05D0 5C                mov X,A
 05D1 18                pop A
 05D2 7C0000            xcall _LCD_1_PrCString
 05D5                   .dbline 293
 05D5           ;                              UART_2_CPutString("PRE");
 05D5 5082              mov A,>L77
 05D7 08                push A
 05D8 5082              mov A,<L77
 05DA 5C                mov X,A
 05DB 18                pop A
 05DC 7C0000            xcall _UART_2_CPutString
 05DF 20                pop X
 05E0                   .dbline 294
 05E0           ;                       }
 05E0           L75:
 05E0                   .dbline 295
 05E0           ;     if (filter==2){
 05E0 3C0C02            cmp [_filter],2
 05E3 B017              jnz L78
 05E5                   .dbline 296
 05E5           ;                           LCD_1_PrCString("HP ");
 05E5                   .dbline 296
 05E5 10                push X
 05E6 507E              mov A,>L80
 05E8 08                push A
 05E9 507E              mov A,<L80
 05EB 5C                mov X,A
 05EC 18                pop A
 05ED 7C0000            xcall _LCD_1_PrCString
 05F0                   .dbline 297
 05F0           ;                                     UART_2_CPutString("HP");
 05F0 507B              mov A,>L81
 05F2 08                push A
 05F3 507B              mov A,<L81
 05F5 5C                mov X,A
 05F6 18                pop A
 05F7 7C0000            xcall _UART_2_CPutString
 05FA 20                pop X
 05FB                   .dbline 298
 05FB           ;                       }
 05FB           L78:
 05FB                   .dbline 299
 05FB           ;     if (filter==3){
 05FB 3C0C03            cmp [_filter],3
 05FE B017              jnz L82
 0600                   .dbline 300
 0600           ;                           LCD_1_PrCString("LP ");
 0600                   .dbline 300
 0600 10                push X
 0601 5077              mov A,>L84
 0603 08                push A
 0604 5077              mov A,<L84
 0606 5C                mov X,A
 0607 18                pop A
 0608 7C0000            xcall _LCD_1_PrCString
 060B                   .dbline 301
 060B           ;                               UART_2_CPutString("LP"); 
 060B 5074              mov A,>L85
 060D 08                push A
 060E 5074              mov A,<L85
 0610 5C                mov X,A
 0611 18                pop A
 0612 7C0000            xcall _UART_2_CPutString
 0615 20                pop X
 0616                   .dbline 302
 0616           ;                       }
 0616           L82:
 0616                   .dbline 303
 0616           ;       UART_2_PutChar(0x20);
 0616 10                push X
 0617 5020              mov A,32
 0619 7C0000            xcall _UART_2_PutChar
 061C                   .dbline 304
 061C           ;       LCD_1_Position(2,0);
 061C 5700              mov X,0
 061E 5002              mov A,2
 0620 7C0000            xcall _LCD_1_Position
 0623                   .dbline 305
 0623           ;       LCD_1_PrCString("Bw:");
 0623 5070              mov A,>L86
 0625 08                push A
 0626 5070              mov A,<L86
 0628 5C                mov X,A
 0629 18                pop A
 062A 7C0000            xcall _LCD_1_PrCString
 062D                   .dbline 306
 062D           ;       UART_2_CPutString("Bw:");
 062D 5070              mov A,>L86
 062F 08                push A
 0630 5070              mov A,<L86
 0632 5C                mov X,A
 0633 18                pop A
 0634 7C0000            xcall _UART_2_CPutString
 0637 20                pop X
 0638                   .dbline 307
 0638           ;       if ((TXstatus & 1)==0){
 0638 470B01            tst [_TXstatus],1
 063B B019              jnz L87
 063D                   .dbline 308
 063D           ;                                  LCD_1_PrCString("12,5 Khz");
 063D                   .dbline 308
 063D 10                push X
 063E 5067              mov A,>L89
 0640 08                push A
 0641 5067              mov A,<L89
 0643 5C                mov X,A
 0644 18                pop A
 0645 7C0000            xcall _LCD_1_PrCString
 0648                   .dbline 309
 0648           ;                                  UART_2_CPutString("12,5 Khz");
 0648 5067              mov A,>L89
 064A 08                push A
 064B 5067              mov A,<L89
 064D 5C                mov X,A
 064E 18                pop A
 064F 7C0000            xcall _UART_2_CPutString
 0652 20                pop X
 0653                   .dbline 310
 0653           ;                            }
 0653 8017              xjmp L88
 0655           L87:
 0655                   .dbline 312
 0655           ;             else     
 0655           ;                               {
 0655                   .dbline 313
 0655           ;                                          LCD_1_PrCString("25,0 Khz");
 0655 10                push X
 0656 505E              mov A,>L90
 0658 08                push A
 0659 505E              mov A,<L90
 065B 5C                mov X,A
 065C 18                pop A
 065D 7C0000            xcall _LCD_1_PrCString
 0660                   .dbline 314
 0660           ;                                                  UART_2_CPutString("25,0 Khz");
 0660 505E              mov A,>L90
 0662 08                push A
 0663 505E              mov A,<L90
 0665 5C                mov X,A
 0666 18                pop A
 0667 7C0000            xcall _UART_2_CPutString
 066A 20                pop X
 066B                   .dbline 315
 066B           ;                            }  
 066B           L88:
 066B                   .dbline 316
 066B           ;       UART_2_PutChar(0x20);                                   
 066B 10                push X
 066C 5020              mov A,32
 066E 7C0000            xcall _UART_2_PutChar
 0671                   .dbline 317
 0671           ;       LCD_1_WriteData(0x20);
 0671 5020              mov A,32
 0673 7C0000            xcall _LCD_1_WriteData
 0676                   .dbline 318
 0676           ;       LCD_1_PrCString("Pwr:");
 0676 5059              mov A,>L91
 0678 08                push A
 0679 5059              mov A,<L91
 067B 5C                mov X,A
 067C 18                pop A
 067D 7C0000            xcall _LCD_1_PrCString
 0680                   .dbline 319
 0680           ;       UART_2_CPutString("Pwr:");                                      
 0680 5059              mov A,>L91
 0682 08                push A
 0683 5059              mov A,<L91
 0685 5C                mov X,A
 0686 18                pop A
 0687 7C0000            xcall _UART_2_CPutString
 068A 20                pop X
 068B                   .dbline 320
 068B           ;       if ((TXstatus & 4)==0){
 068B 470B04            tst [_TXstatus],4
 068E B019              jnz L92
 0690                   .dbline 321
 0690           ;                                  LCD_1_PrCString(" low");
 0690                   .dbline 321
 0690 10                push X
 0691 5054              mov A,>L94
 0693 08                push A
 0694 5054              mov A,<L94
 0696 5C                mov X,A
 0697 18                pop A
 0698 7C0000            xcall _LCD_1_PrCString
 069B                   .dbline 322
 069B           ;                                  UART_2_CPutString("low");
 069B 5050              mov A,>L95
 069D 08                push A
 069E 5050              mov A,<L95
 06A0 5C                mov X,A
 06A1 18                pop A
 06A2 7C0000            xcall _UART_2_CPutString
 06A5 20                pop X
 06A6                   .dbline 323
 06A6           ;                            }
 06A6 8017              xjmp L93
 06A8           L92:
 06A8                   .dbline 325
 06A8           ;             else     
 06A8           ;                               {
 06A8                   .dbline 326
 06A8           ;                                          LCD_1_PrCString("high");
 06A8 10                push X
 06A9 504B              mov A,>L96
 06AB 08                push A
 06AC 504B              mov A,<L96
 06AE 5C                mov X,A
 06AF 18                pop A
 06B0 7C0000            xcall _LCD_1_PrCString
 06B3                   .dbline 327
 06B3           ;                                               UART_2_CPutString("high");
 06B3 504B              mov A,>L96
 06B5 08                push A
 06B6 504B              mov A,<L96
 06B8 5C                mov X,A
 06B9 18                pop A
 06BA 7C0000            xcall _UART_2_CPutString
 06BD 20                pop X
 06BE                   .dbline 328
 06BE           ;                            }
 06BE           L93:
 06BE                   .dbline 329
 06BE           ;       UART_2_PutChar(0x20);
 06BE 10                push X
 06BF 5020              mov A,32
 06C1 7C0000            xcall _UART_2_PutChar
 06C4 20                pop X
 06C5                   .dbline 330
 06C5           ;       print_voltage(1);                                                                       
 06C5 5001              mov A,1
 06C7 08                push A
 06C8 9D3E              xcall _print_voltage
 06CA 38FF              add SP,-1
 06CC                   .dbline -2
 06CC           L62:
 06CC                   .dbline 0 ; func end
 06CC 7F                ret
 06CD                   .dbend
                        .area lit(rom, con, rel, lit)
 0000           L98:
 0000 2C00              .byte 44,0
 0002           L99:
 0002 3030303000        .byte 48,48,48,48,0
 0007           L100:
 0007 3000              .byte 48,0
 0009           L101:
 0009 2E00              .byte 46,0
 000B           L102:
 000B 3100              .byte 49,0
                        .area text(rom, con, rel)
 06CD                   .dbfile F:\PSOCDE~1.4PR\fmfunke2\fmfunke2\main.c
 06CD                   .dbfunc e komando_setgroup _komando_setgroup fV
 06CD           ;              y -> X+54
 06CD           ;              x -> X+52
 06CD           ;              s -> X+51
 06CD           ;              z -> X+49
 06CD           ;           ctss -> X+44
 06CD           ;              f -> X+33
 06CD           ;          komma -> X+31
 06CD           ;       setgroup -> X+0
 06CD           _komando_setgroup::
 06CD                   .dbline -1
 06CD 10                push X
 06CE 4F                mov X,SP
 06CF 3838              add SP,56
 06D1                   .dbline 338
 06D1           ; //                                    
 06D1           ; }     
 06D1           ; /* function for setGroup from DRA818
 06D1           ;    Argument : none
 06D1           ;    Return   : response from DRA 818 Chip in the responsebuffer 1 -> 14
 06D1           ; #########################################################################################################################*/
 06D1           ; void komando_setgroup(void)
 06D1           ; {     
 06D1                   .dbline 339
 06D1           ; char setgroup[31],komma[]=",";
 06D1 550000            mov [__r1],<L98
 06D4 550000            mov [__r0],>L98
 06D7 5A00              mov [__r3],X
 06D9 06001F            add [__r3],31
 06DC 10                push X
 06DD 550000            mov [__rX],0
 06E0 5100              mov A,[__r0]
 06E2 5800              mov X,[__r1]
 06E4           X8:
 06E4 08                push A
 06E5 28                romx
 06E6 3F00              mvi [__r3],A
 06E8 18                pop A
 06E9 75                inc X
 06EA 0900              adc A,0
 06EC 7600              inc [__rX]
 06EE 3C0002            cmp [__rX],2
 06F1 BFF2              jnz X8
 06F3 20                pop X
 06F4                   .dbline 340
 06F4           ; char ctss[]="0000";   
 06F4 550002            mov [__r1],<L99
 06F7 550002            mov [__r0],>L99
 06FA 5A00              mov [__r3],X
 06FC 06002C            add [__r3],44
 06FF 10                push X
 0700 550000            mov [__rX],0
 0703 5100              mov A,[__r0]
 0705 5800              mov X,[__r1]
 0707           X9:
 0707 08                push A
 0708 28                romx
 0709 3F00              mvi [__r3],A
 070B 18                pop A
 070C 75                inc X
 070D 0900              adc A,0
 070F 7600              inc [__rX]
 0711 3C0005            cmp [__rX],5
 0714 BFF2              jnz X9
 0716 20                pop X
 0717                   .dbline 342
 0717           ; char f[11],s[1];
 0717           ; char x[]="0";
 0717 550007            mov [__r1],<L100
 071A 550007            mov [__r0],>L100
 071D 5A00              mov [__r3],X
 071F 060034            add [__r3],52
 0722 10                push X
 0723 550000            mov [__rX],0
 0726 5100              mov A,[__r0]
 0728 5800              mov X,[__r1]
 072A           X10:
 072A 08                push A
 072B 28                romx
 072C 3F00              mvi [__r3],A
 072E 18                pop A
 072F 75                inc X
 0730 0900              adc A,0
 0732 7600              inc [__rX]
 0734 3C0002            cmp [__rX],2
 0737 BFF2              jnz X10
 0739 20                pop X
 073A                   .dbline 343
 073A           ; char z[]=".";
 073A 550009            mov [__r1],<L101
 073D 550009            mov [__r0],>L101
 0740 5A00              mov [__r3],X
 0742 060031            add [__r3],49
 0745 10                push X
 0746 550000            mov [__rX],0
 0749 5100              mov A,[__r0]
 074B 5800              mov X,[__r1]
 074D           X11:
 074D 08                push A
 074E 28                romx
 074F 3F00              mvi [__r3],A
 0751 18                pop A
 0752 75                inc X
 0753 0900              adc A,0
 0755 7600              inc [__rX]
 0757 3C0002            cmp [__rX],2
 075A BFF2              jnz X11
 075C 20                pop X
 075D                   .dbline 344
 075D           ; char y[]="1"; 
 075D 55000B            mov [__r1],<L102
 0760 55000B            mov [__r0],>L102
 0763 5A00              mov [__r3],X
 0765 060036            add [__r3],54
 0768 10                push X
 0769 550000            mov [__rX],0
 076C 5100              mov A,[__r0]
 076E 5800              mov X,[__r1]
 0770           X12:
 0770 08                push A
 0771 28                romx
 0772 3F00              mvi [__r3],A
 0774 18                pop A
 0775 75                inc X
 0776 0900              adc A,0
 0778 7600              inc [__rX]
 077A 3C0002            cmp [__rX],2
 077D BFF2              jnz X12
 077F 20                pop X
 0780                   .dbline 345
 0780           ;                PRT1IE &=0x7f; //drehgeber Interupt sperren
 0780 41057F            and REG[0x5],127
 0783                   .dbline 346
 0783           ;                  if ((TXstatus & 1) ==0){
 0783 470B01            tst [_TXstatus],1
 0786 B017              jnz L103
 0788                   .dbline 347
 0788           ;                                                  strcpy(setgroup,x);
 0788                   .dbline 347
 0788 5A00              mov [__r1],X
 078A 060034            add [__r1],52
 078D 5100              mov A,[__r0]
 078F 08                push A
 0790 5100              mov A,[__r1]
 0792 08                push A
 0793 5100              mov A,[__r0]
 0795 08                push A
 0796 10                push X
 0797 7C0000            xcall _strcpy
 079A 38FC              add SP,-4
 079C                   .dbline 348
 079C           ;                                               }
 079C 8015              xjmp L104
 079E           L103:
 079E                   .dbline 350
 079E           ;                           else
 079E           ;                                              {
 079E                   .dbline 351
 079E           ;                                                                       strcpy(setgroup,y);
 079E 5A00              mov [__r1],X
 07A0 060036            add [__r1],54
 07A3 5100              mov A,[__r0]
 07A5 08                push A
 07A6 5100              mov A,[__r1]
 07A8 08                push A
 07A9 5100              mov A,[__r0]
 07AB 08                push A
 07AC 10                push X
 07AD 7C0000            xcall _strcpy
 07B0 38FC              add SP,-4
 07B2                   .dbline 352
 07B2           ;                                                               }       
 07B2           L104:
 07B2                   .dbline 354
 07B2           ;                                                       
 07B2           ;                   strcat(setgroup,komma); 
 07B2 5A00              mov [__r1],X
 07B4 06001F            add [__r1],31
 07B7 5100              mov A,[__r0]
 07B9 08                push A
 07BA 5100              mov A,[__r1]
 07BC 08                push A
 07BD 5100              mov A,[__r0]
 07BF 08                push A
 07C0 10                push X
 07C1 7C0000            xcall _strcat
 07C4 38FC              add SP,-4
 07C6                   .dbline 356
 07C6           ;                                               
 07C6           ;                               if ((TXstatus & 2)==0){
 07C6 470B02            tst [_TXstatus],2
 07C9 B0C1              jnz L105
 07CB                   .dbline 357
 07CB           ;                                                        ltoa(f,frequenz,10);
 07CB                   .dbline 357
 07CB 5000              mov A,0
 07CD 08                push A
 07CE 500A              mov A,10
 07D0 08                push A
 07D1 5103              mov A,[_frequenz]
 07D3 08                push A
 07D4 5104              mov A,[_frequenz+1]
 07D6 08                push A
 07D7 5105              mov A,[_frequenz+2]
 07D9 08                push A
 07DA 5106              mov A,[_frequenz+3]
 07DC 08                push A
 07DD 5A00              mov [__r1],X
 07DF 060021            add [__r1],33
 07E2 5100              mov A,[__r0]
 07E4 08                push A
 07E5 5100              mov A,[__r1]
 07E7 08                push A
 07E8 7C0000            xcall _ltoa
 07EB                   .dbline 358
 07EB           ;                                                        strncat(setgroup,f,3);
 07EB 5000              mov A,0
 07ED 08                push A
 07EE 5003              mov A,3
 07F0 08                push A
 07F1 5A00              mov [__r1],X
 07F3 060021            add [__r1],33
 07F6 5100              mov A,[__r0]
 07F8 08                push A
 07F9 5100              mov A,[__r1]
 07FB 08                push A
 07FC 5100              mov A,[__r0]
 07FE 08                push A
 07FF 10                push X
 0800 7C0000            xcall _strncat
 0803 38F2              add SP,-14
 0805                   .dbline 359
 0805           ;                                                        strcat(setgroup,z);
 0805 5A00              mov [__r1],X
 0807 060031            add [__r1],49
 080A 5100              mov A,[__r0]
 080C 08                push A
 080D 5100              mov A,[__r1]
 080F 08                push A
 0810 5100              mov A,[__r0]
 0812 08                push A
 0813 10                push X
 0814 7C0000            xcall _strcat
 0817                   .dbline 361
 0817           ;                                                       
 0817           ;                                                        strncat(setgroup,f+3,4); 
 0817 5000              mov A,0
 0819 08                push A
 081A 5004              mov A,4
 081C 08                push A
 081D 5A00              mov [__r1],X
 081F 060024            add [__r1],36
 0822 5100              mov A,[__r0]
 0824 08                push A
 0825 5100              mov A,[__r1]
 0827 08                push A
 0828 5100              mov A,[__r0]
 082A 08                push A
 082B 10                push X
 082C 7C0000            xcall _strncat
 082F 38F6              add SP,-10
 0831                   .dbline 362
 0831           ;                                        strcat(setgroup,komma); 
 0831 5A00              mov [__r1],X
 0833 06001F            add [__r1],31
 0836 5100              mov A,[__r0]
 0838 08                push A
 0839 5100              mov A,[__r1]
 083B 08                push A
 083C 5100              mov A,[__r0]
 083E 08                push A
 083F 10                push X
 0840 7C0000            xcall _strcat
 0843                   .dbline 363
 0843           ;                                                        strncat(setgroup,f,3);
 0843 5000              mov A,0
 0845 08                push A
 0846 5003              mov A,3
 0848 08                push A
 0849 5A00              mov [__r1],X
 084B 060021            add [__r1],33
 084E 5100              mov A,[__r0]
 0850 08                push A
 0851 5100              mov A,[__r1]
 0853 08                push A
 0854 5100              mov A,[__r0]
 0856 08                push A
 0857 10                push X
 0858 7C0000            xcall _strncat
 085B 38F6              add SP,-10
 085D                   .dbline 364
 085D           ;                                                        strcat(setgroup,z);
 085D 5A00              mov [__r1],X
 085F 060031            add [__r1],49
 0862 5100              mov A,[__r0]
 0864 08                push A
 0865 5100              mov A,[__r1]
 0867 08                push A
 0868 5100              mov A,[__r0]
 086A 08                push A
 086B 10                push X
 086C 7C0000            xcall _strcat
 086F                   .dbline 365
 086F           ;                                                        strncat(setgroup,f+3,4); 
 086F 5000              mov A,0
 0871 08                push A
 0872 5004              mov A,4
 0874 08                push A
 0875 5A00              mov [__r1],X
 0877 060024            add [__r1],36
 087A 5100              mov A,[__r0]
 087C 08                push A
 087D 5100              mov A,[__r1]
 087F 08                push A
 0880 5100              mov A,[__r0]
 0882 08                push A
 0883 10                push X
 0884 7C0000            xcall _strncat
 0887 38F6              add SP,-10
 0889                   .dbline 368
 0889           ;                                                 
 0889           ;                                                      
 0889           ;                                               }
 0889 8110              xjmp L106
 088B           L105:
 088B                   .dbline 370
 088B           ;                               else 
 088B           ;                                               {
 088B                   .dbline 372
 088B           ;                                                                   
 088B           ;                                                                       ltoa(f,frequenz-shift,10);
 088B 5000              mov A,0
 088D 08                push A
 088E 500A              mov A,10
 0890 08                push A
 0891 5F0008            mov [__r3],[_shift+1]
 0894 5F0007            mov [__r2],[_shift]
 0897 470080            tst [__r2],-128
 089A A009              jz X13
 089C 5500FF            mov [__r1],-1
 089F 5500FF            mov [__r0],-1
 08A2 8007              jmp X14
 08A4           X13:
 08A4 550000            mov [__r1],0
 08A7 550000            mov [__r0],0
 08AA           X14:
 08AA 5106              mov A,[_frequenz+3]
 08AC 1200              sub A,[__r3]
 08AE 5300              mov [__r3],A
 08B0 5105              mov A,[_frequenz+2]
 08B2 1A00              sbb A,[__r2]
 08B4 5300              mov [__r2],A
 08B6 5104              mov A,[_frequenz+1]
 08B8 1A00              sbb A,[__r1]
 08BA 5300              mov [__r1],A
 08BC 5103              mov A,[_frequenz]
 08BE 1A00              sbb A,[__r0]
 08C0 5300              mov [__r0],A
 08C2 08                push A
 08C3 5100              mov A,[__r1]
 08C5 08                push A
 08C6 5100              mov A,[__r2]
 08C8 08                push A
 08C9 5100              mov A,[__r3]
 08CB 08                push A
 08CC 5A00              mov [__r1],X
 08CE 060021            add [__r1],33
 08D1 5100              mov A,[__r0]
 08D3 08                push A
 08D4 5100              mov A,[__r1]
 08D6 08                push A
 08D7 7C0000            xcall _ltoa
 08DA 38F8              add SP,-8
 08DC                   .dbline 373
 08DC           ;                                                                    strncat(setgroup,f,3);
 08DC 5000              mov A,0
 08DE 08                push A
 08DF 5003              mov A,3
 08E1 08                push A
 08E2 5A00              mov [__r1],X
 08E4 060021            add [__r1],33
 08E7 5100              mov A,[__r0]
 08E9 08                push A
 08EA 5100              mov A,[__r1]
 08EC 08                push A
 08ED 5100              mov A,[__r0]
 08EF 08                push A
 08F0 10                push X
 08F1 7C0000            xcall _strncat
 08F4                   .dbline 374
 08F4           ;                                                        strcat(setgroup,z);
 08F4 5A00              mov [__r1],X
 08F6 060031            add [__r1],49
 08F9 5100              mov A,[__r0]
 08FB 08                push A
 08FC 5100              mov A,[__r1]
 08FE 08                push A
 08FF 5100              mov A,[__r0]
 0901 08                push A
 0902 10                push X
 0903 7C0000            xcall _strcat
 0906 38F6              add SP,-10
 0908                   .dbline 375
 0908           ;                                                        strncat(setgroup,f+3,4); 
 0908 5000              mov A,0
 090A 08                push A
 090B 5004              mov A,4
 090D 08                push A
 090E 5A00              mov [__r1],X
 0910 060024            add [__r1],36
 0913 5100              mov A,[__r0]
 0915 08                push A
 0916 5100              mov A,[__r1]
 0918 08                push A
 0919 5100              mov A,[__r0]
 091B 08                push A
 091C 10                push X
 091D 7C0000            xcall _strncat
 0920                   .dbline 376
 0920           ;                                       strcat(setgroup,komma);    
 0920 5A00              mov [__r1],X
 0922 06001F            add [__r1],31
 0925 5100              mov A,[__r0]
 0927 08                push A
 0928 5100              mov A,[__r1]
 092A 08                push A
 092B 5100              mov A,[__r0]
 092D 08                push A
 092E 10                push X
 092F 7C0000            xcall _strcat
 0932 38F6              add SP,-10
 0934                   .dbline 377
 0934           ;                                                                       ltoa(f,frequenz,10);
 0934 5000              mov A,0
 0936 08                push A
 0937 500A              mov A,10
 0939 08                push A
 093A 5103              mov A,[_frequenz]
 093C 08                push A
 093D 5104              mov A,[_frequenz+1]
 093F 08                push A
 0940 5105              mov A,[_frequenz+2]
 0942 08                push A
 0943 5106              mov A,[_frequenz+3]
 0945 08                push A
 0946 5A00              mov [__r1],X
 0948 060021            add [__r1],33
 094B 5100              mov A,[__r0]
 094D 08                push A
 094E 5100              mov A,[__r1]
 0950 08                push A
 0951 7C0000            xcall _ltoa
 0954                   .dbline 378
 0954           ;                                                         strncat(setgroup,f,3);
 0954 5000              mov A,0
 0956 08                push A
 0957 5003              mov A,3
 0959 08                push A
 095A 5A00              mov [__r1],X
 095C 060021            add [__r1],33
 095F 5100              mov A,[__r0]
 0961 08                push A
 0962 5100              mov A,[__r1]
 0964 08                push A
 0965 5100              mov A,[__r0]
 0967 08                push A
 0968 10                push X
 0969 7C0000            xcall _strncat
 096C 38F2              add SP,-14
 096E                   .dbline 379
 096E           ;                                                        strcat(setgroup,z);
 096E 5A00              mov [__r1],X
 0970 060031            add [__r1],49
 0973 5100              mov A,[__r0]
 0975 08                push A
 0976 5100              mov A,[__r1]
 0978 08                push A
 0979 5100              mov A,[__r0]
 097B 08                push A
 097C 10                push X
 097D 7C0000            xcall _strcat
 0980                   .dbline 380
 0980           ;                                                        strncat(setgroup,f+3,4); 
 0980 5000              mov A,0
 0982 08                push A
 0983 5004              mov A,4
 0985 08                push A
 0986 5A00              mov [__r1],X
 0988 060024            add [__r1],36
 098B 5100              mov A,[__r0]
 098D 08                push A
 098E 5100              mov A,[__r1]
 0990 08                push A
 0991 5100              mov A,[__r0]
 0993 08                push A
 0994 10                push X
 0995 7C0000            xcall _strncat
 0998 38F6              add SP,-10
 099A                   .dbline 381
 099A           ;                                                                       }
 099A           L106:
 099A                   .dbline 382
 099A           ;                               strcat(setgroup,komma);
 099A 5A00              mov [__r1],X
 099C 06001F            add [__r1],31
 099F 5100              mov A,[__r0]
 09A1 08                push A
 09A2 5100              mov A,[__r1]
 09A4 08                push A
 09A5 5100              mov A,[__r0]
 09A7 08                push A
 09A8 10                push X
 09A9 7C0000            xcall _strcat
 09AC 38FC              add SP,-4
 09AE                   .dbline 383
 09AE           ;                           strcat(setgroup,ctss);
 09AE 5A00              mov [__r1],X
 09B0 06002C            add [__r1],44
 09B3 5100              mov A,[__r0]
 09B5 08                push A
 09B6 5100              mov A,[__r1]
 09B8 08                push A
 09B9 5100              mov A,[__r0]
 09BB 08                push A
 09BC 10                push X
 09BD 7C0000            xcall _strcat
 09C0                   .dbline 384
 09C0           ;                       strcat(setgroup,komma);
 09C0 5A00              mov [__r1],X
 09C2 06001F            add [__r1],31
 09C5 5100              mov A,[__r0]
 09C7 08                push A
 09C8 5100              mov A,[__r1]
 09CA 08                push A
 09CB 5100              mov A,[__r0]
 09CD 08                push A
 09CE 10                push X
 09CF 7C0000            xcall _strcat
 09D2 38F8              add SP,-8
 09D4                   .dbline 385
 09D4           ;                               itoa(s,Squelch,10);                                     
 09D4 5000              mov A,0
 09D6 08                push A
 09D7 500A              mov A,10
 09D9 08                push A
 09DA 5F0001            mov [__r1],[_Squelch]
 09DD 5000              mov A,0
 09DF 08                push A
 09E0 5100              mov A,[__r1]
 09E2 08                push A
 09E3 5A00              mov [__r1],X
 09E5 060033            add [__r1],51
 09E8 5000              mov A,0
 09EA 08                push A
 09EB 5100              mov A,[__r1]
 09ED 08                push A
 09EE 7C0000            xcall _itoa
 09F1                   .dbline 386
 09F1           ;                           strcat(setgroup,s);
 09F1 5A00              mov [__r1],X
 09F3 060033            add [__r1],51
 09F6 5100              mov A,[__r0]
 09F8 08                push A
 09F9 5100              mov A,[__r1]
 09FB 08                push A
 09FC 5100              mov A,[__r0]
 09FE 08                push A
 09FF 10                push X
 0A00 7C0000            xcall _strcat
 0A03 38F6              add SP,-10
 0A05                   .dbline 387
 0A05           ;                               strcat(setgroup,komma);
 0A05 5A00              mov [__r1],X
 0A07 06001F            add [__r1],31
 0A0A 5100              mov A,[__r0]
 0A0C 08                push A
 0A0D 5100              mov A,[__r1]
 0A0F 08                push A
 0A10 5100              mov A,[__r0]
 0A12 08                push A
 0A13 10                push X
 0A14 7C0000            xcall _strcat
 0A17                   .dbline 388
 0A17           ;                           strcat(setgroup,ctss);                                              
 0A17 5A00              mov [__r1],X
 0A19 06002C            add [__r1],44
 0A1C 5100              mov A,[__r0]
 0A1E 08                push A
 0A1F 5100              mov A,[__r1]
 0A21 08                push A
 0A22 5100              mov A,[__r0]
 0A24 08                push A
 0A25 10                push X
 0A26 7C0000            xcall _strcat
 0A29 38F8              add SP,-8
 0A2B                   .dbline 389
 0A2B           ;     UART_1_CPutString("AT+DMOSETGROUP=");
 0A2B 10                push X
 0A2C 503B              mov A,>L111
 0A2E 08                push A
 0A2F 503B              mov A,<L111
 0A31 5C                mov X,A
 0A32 18                pop A
 0A33 7C0000            xcall _UART_1_CPutString
 0A36 20                pop X
 0A37                   .dbline 390
 0A37           ;       UART_1_PutString(setgroup);                             
 0A37 10                push X
 0A38 5100              mov A,[__r0]
 0A3A 7C0000            xcall _UART_1_PutString
 0A3D                   .dbline 391
 0A3D           ;       UART_1_PutCRLF();                                                               
 0A3D 7C0000            xcall _UART_1_PutCRLF
 0A40 20                pop X
 0A41                   .dbline 392
 0A41           ;       setgroup_response();
 0A41 7C0000            xcall _setgroup_response
 0A44                   .dbline 394
 0A44           ;       //get_response(15);                                                     
 0A44           ;       if (responsebuffer[12]!=0x3a || responsebuffer[13]!=0x30){
 0A44 3C0C3A            cmp [_responsebuffer+12],58
 0A47 B006              jnz L116
 0A49 3C0D30            cmp [_responsebuffer+13],48
 0A4C A016              jz L112
 0A4E           L116:
 0A4E                   .dbline 395
 0A4E           ;                                       LCD_1_Position(1,0);
 0A4E                   .dbline 395
 0A4E 10                push X
 0A4F 5700              mov X,0
 0A51 5001              mov A,1
 0A53 7C0000            xcall _LCD_1_Position
 0A56                   .dbline 396
 0A56           ;                                                               LCD_1_PrCString("GR");
 0A56 5038              mov A,>L117
 0A58 08                push A
 0A59 5038              mov A,<L117
 0A5B 5C                mov X,A
 0A5C 18                pop A
 0A5D 7C0000            xcall _LCD_1_PrCString
 0A60 20                pop X
 0A61                   .dbline 398
 0A61           ;                                     
 0A61           ;                                  }
 0A61 8004              xjmp L113
 0A63           L112:
 0A63                   .dbline 400
 0A63           ;                       else  
 0A63           ;                                                       {
 0A63                   .dbline 401
 0A63           ;                                     Print_Frequenz();
 0A63 7C0041            xcall _Print_Frequenz
 0A66                   .dbline 402
 0A66           ;                                                       }               
 0A66           L113:
 0A66                   .dbline 403
 0A66           ;       warte(10);
 0A66 5000              mov A,0
 0A68 08                push A
 0A69 500A              mov A,10
 0A6B 08                push A
 0A6C 7C0008            xcall _warte
 0A6F 38FE              add SP,-2
 0A71                   .dbline 404
 0A71           ;       PRT1IE |= 0x80; //drehgeber Interupt erlauben
 0A71 430580            or REG[0x5],-128
 0A74                   .dbline -2
 0A74           L97:
 0A74 38C8              add SP,-56
 0A76 20                pop X
 0A77                   .dbline 0 ; func end
 0A77 7F                ret
 0A78                   .dbsym l y 54 A[2:2]c
 0A78                   .dbsym l x 52 A[2:2]c
 0A78                   .dbsym l s 51 A[1:1]c
 0A78                   .dbsym l z 49 A[2:2]c
 0A78                   .dbsym l ctss 44 A[5:5]c
 0A78                   .dbsym l f 33 A[11:11]c
 0A78                   .dbsym l komma 31 A[2:2]c
 0A78                   .dbsym l setgroup 0 A[31:31]c
 0A78                   .dbend
 0A78                   .dbfunc e main _main fV
                        .area func_lit(rom, con, rel, proclab)
 0000           L160:
 0000 0BE8              .word L133
 0002 0BF6              .word L135
 0004 0BFB              .word L136
 0006 0D3D              .word L131
 0008 0BFD              .word L137
 000A 0C32              .word L140
 000C 0C6B              .word L143
 000E 0C74              .word L144
 0010 0C7D              .word L145
 0012 0C87              .word L146
 0014 0C90              .word L149
 0016 0C9A              .word L152
 0018 0C9F              .word L153
 001A 0D3D              .word L131
 001C 0CA9              .word L154
 001E 0CB9              .word L157
                        .area text(rom, con, rel)
                ;          count -> X+2
                ;         strPtr -> X+0
 0A78           _main::
 0A78                   .dbline -1
 0A78 10                push X
 0A79 4F                mov X,SP
 0A7A 3804              add SP,4
 0A7C                   .dbline 432
 0A7C           ;                                                       
 0A7C           ; }
 0A7C           ; /*void kommando_setfilter(unsigned char z)
 0A7C           ; {
 0A7C           ; char str[]="+DMOSETFILTER:0";
 0A7C           ;     UART_1_CPutString("AT+SETFILTER=");
 0A7C           ;        switch (z){
 0A7C           ;                        case 0: UART_1_CPutString("0,0,0");
 0A7C           ;                                    break;
 0A7C           ;                        case 1: UART_1_CPutString("1,0,0");
 0A7C           ;                                    break;
 0A7C           ;                        case 2: UART_1_CPutString("0,1,0");
 0A7C           ;                                               break;
 0A7C           ;                        case 3: UART_1_CPutString("0,0,1");
 0A7C           ;                               break;
 0A7C           ;       }
 0A7C           ;                         
 0A7C           ;     UART_1_PutCRLF();
 0A7C           ;       get_response(16);
 0A7C           ;       if (strncmp(responsebuffer,str,15)){
 0A7C           ;                                       LCD_1_Position(0,17);
 0A7C           ;                                                               LCD_1_PrCString("FI");                         
 0A7C           ;                                               }       
 0A7C           ;       warte(100);
 0A7C           ;       }*/
 0A7C           ; 
 0A7C           ; void main(void)
 0A7C           ; {
 0A7C                   .dbline 437
 0A7C           ; 
 0A7C           ; char *strPtr;
 0A7C           ; int  count;           
 0A7C           ;     
 0A7C           ; if(CPU_SCR0 & CPU_SCR0_WDRS_MASK)
 0A7C 5DFF              mov A,REG[0xff]
 0A7E 5300              mov [__r0],A
 0A80 470020            tst [__r0],32
 0A83 A013              jz L119
 0A85                   .dbline 440
 0A85           ;                                     {
 0A85           ;                                      // Reset kommt von der Watchdog der SRam wird gesichert
 0A85           ;                                                                       LCD_1_Start();
 0A85                   .dbline 440
 0A85 10                push X
 0A86 7C0000            xcall _LCD_1_Start
 0A89                   .dbline 441
 0A89           ;                                                                   LCD_1_Control(1);
 0A89 5001              mov A,1
 0A8B 7C0000            xcall _LCD_1_Control
 0A8E 20                pop X
 0A8F                   .dbline 442
 0A8F           ;                                                                       count=15;       
 0A8F 56030F            mov [X+3],15
 0A92 560200            mov [X+2],0
 0A95                   .dbline 443
 0A95           ;                                     }
 0A95 8012              xjmp L120
 0A97           L119:
 0A97                   .dbline 445
 0A97           ;              else 
 0A97           ;                                                                       {       
 0A97                   .dbline 446
 0A97           ;                                                                       lcdInit();      
 0A97 7C0000            xcall _lcdInit
 0A9A                   .dbline 447
 0A9A           ;                                                                       warte(1000);
 0A9A 5003              mov A,3
 0A9C 08                push A
 0A9D 50E8              mov A,-24
 0A9F 08                push A
 0AA0 7C0008            xcall _warte
 0AA3 38FE              add SP,-2
 0AA5                   .dbline 448
 0AA5           ;                                       clear_LCD()     ;
 0AA5 7C0000            xcall _clear_LCD
 0AA8                   .dbline 451
 0AA8           ;                                                                       // reset ist por ,xres  
 0AA8           ;                                                                       
 0AA8           ;                                                                       }
 0AA8           L120:
 0AA8                   .dbline 453
 0AA8           ;                                                                       
 0AA8           ;     eprom(1);
 0AA8 5001              mov A,1
 0AAA 08                push A
 0AAB 7C01B7            xcall _eprom
 0AAE 38FF              add SP,-1
 0AB0                   .dbline 455
 0AB0           ;                                                                       
 0AB0           ;       M8C_EnableGInt;
 0AB0 7101                      or  F, 01h
 0AB2           
 0AB2                   .dbline 456
 0AB2           ;       PTT_Start();
 0AB2 10                push X
 0AB3 7C0000            xcall _PTT_Start
 0AB6                   .dbline 457
 0AB6           ;       HF_power_Start();                                                               
 0AB6 7C0000            xcall _HF_power_Start
 0AB9                   .dbline 458
 0AB9           ;       PTT_On();
 0AB9 7C0000            xcall _PTT_On
 0ABC                   .dbline 459
 0ABC           ;       HF_power_On();
 0ABC 7C0000            xcall _HF_power_On
 0ABF                   .dbline 460
 0ABF           ;       Timer8_1_EnableInt();
 0ABF 7C0000            xcall _Timer8_1_EnableInt
 0AC2                   .dbline 461
 0AC2           ;     Timer8_1_Start(); 
 0AC2 7C0000            xcall _Timer8_1_Start
 0AC5                   .dbline 462
 0AC5           ;       UART_1_Start(UART_1_PARITY_NONE);
 0AC5 5000              mov A,0
 0AC7 7C0000            xcall _UART_1_Start
 0ACA                   .dbline 463
 0ACA           ;       UART_1_EnableInt();
 0ACA 7C0000            xcall _UART_1_EnableInt
 0ACD                   .dbline 464
 0ACD           ;       UART_1_IntCntl(UART_1_ENABLE_RX_INT);
 0ACD 5001              mov A,1
 0ACF 7C0000            xcall _UART_1_IntCntl
 0AD2 20                pop X
 0AD3                   .dbline 465
 0AD3           ;     counter=1;
 0AD3 550001            mov [_counter],1
 0AD6                   .dbline 466
 0AD6           ;     UART_2_Start(UART_2_PARITY_NONE);
 0AD6 10                push X
 0AD7 5000              mov A,0
 0AD9 7C0000            xcall _UART_2_Start
 0ADC                   .dbline 467
 0ADC           ;     UART_2_EnableInt();
 0ADC 7C0000            xcall _UART_2_EnableInt
 0ADF                   .dbline 469
 0ADF           ;       //UART_2_IntCntl(UART_2_ENABLE_RX_INT);
 0ADF           ;       UART_2_CmdReset();                                                                      
 0ADF 7C0000            xcall _UART_2_CmdReset
 0AE2 20                pop X
 0AE3                   .dbline 470
 0AE3           ;       kommando_heartbeat();   
 0AE3 7C0000            xcall _kommando_heartbeat
 0AE6                   .dbline 471
 0AE6           ;       warte(200);
 0AE6 5000              mov A,0
 0AE8 08                push A
 0AE9 50C8              mov A,-56
 0AEB 08                push A
 0AEC 7C0008            xcall _warte
 0AEF                   .dbline 472
 0AEF           ;       komando_setgroup();
 0AEF 9BDC              xcall _komando_setgroup
 0AF1                   .dbline 473
 0AF1           ;       warte(10);
 0AF1 5000              mov A,0
 0AF3 08                push A
 0AF4 500A              mov A,10
 0AF6 08                push A
 0AF7 7C0008            xcall _warte
 0AFA 38FC              add SP,-4
 0AFC                   .dbline 474
 0AFC           ;     kommando_setvol();
 0AFC 7C0000            xcall _kommando_setvol
 0AFF                   .dbline 475
 0AFF           ;       warte(200);
 0AFF 5000              mov A,0
 0B01 08                push A
 0B02 50C8              mov A,-56
 0B04 08                push A
 0B05 7C0008            xcall _warte
 0B08                   .dbline 476
 0B08           ;       kommando_setfilter();
 0B08 7C0000            xcall _kommando_setfilter
 0B0B                   .dbline 477
 0B0B           ;       warte(100);
 0B0B 5000              mov A,0
 0B0D 08                push A
 0B0E 5064              mov A,100
 0B10 08                push A
 0B11 7C0008            xcall _warte
 0B14 38FC              add SP,-4
 0B16                   .dbline 478
 0B16           ;       Print_status();
 0B16 99FC              xcall _Print_status
 0B18                   .dbline 479
 0B18           ;       direction=0;
 0B18 550900            mov [_direction],0
 0B1B                   .dbline 480
 0B1B           ;       Eingangsamp_Start(Eingangsamp_HIGHPOWER);
 0B1B 10                push X
 0B1C 5003              mov A,3
 0B1E 7C0000            xcall _Eingangsamp_Start
 0B21 20                pop X
 0B22                   .dbline 481
 0B22           ;       Eingangsamp_SetGain(0x98-(micgain*16));
 0B22 5100              mov A,[_micgain]
 0B24 64                asl A
 0B25 64                asl A
 0B26 64                asl A
 0B27 64                asl A
 0B28 5300              mov [__r0],A
 0B2A 5098              mov A,-104
 0B2C 1200              sub A,[__r0]
 0B2E 10                push X
 0B2F 7C0000            xcall _Eingangsamp_SetGain
 0B32                   .dbline 482
 0B32           ;       RefMux_1_Start(RefMux_1_LOWPOWER);                                                      
 0B32 5001              mov A,1
 0B34 7C0000            xcall _RefMux_1_Start
 0B37 20                pop X
 0B38                   .dbline 483
 0B38           ;     M8C_EnableWatchDog;
 0B38 41FFEF            and REG[0xff],-17
 0B3B                   .dbline 484
 0B3B           ;       M8C_EnableIntMask(INT_MSK0, INT_MSK0_GPIO);     
 0B3B 43E020            or REG[0xe0],32
 0B3E 8648              xjmp L122
 0B40           L121:
 0B40                   .dbline 486
 0B40           ;       while (1)
 0B40           ;               {
 0B40                   .dbline 487
 0B40           ;               M8C_ClearWDT;   
 0B40 62E300            mov REG[0xe3],0
 0B43                   .dbline 488
 0B43           ;           print_voltage(0);
 0B43 5000              mov A,0
 0B45 08                push A
 0B46 98C0              xcall _print_voltage
 0B48 38FF              add SP,-1
 0B4A                   .dbline 489
 0B4A           ;           kommando_rssi();
 0B4A 7C0000            xcall _kommando_rssi
 0B4D                   .dbline 490
 0B4D           ;                if (UART_2_bCmdCheck()>0) { 
 0B4D 10                push X
 0B4E 7C0000            xcall _UART_2_bCmdCheck
 0B51 20                pop X
 0B52 5300              mov [__r0],A
 0B54 5000              mov A,0
 0B56 3A00              cmp A,[__r0]
 0B58 D214              jnc L124
 0B5A           X17:
 0B5A                   .dbline 491
 0B5A           ;                                              M8C_DisableIntMask(INT_MSK0, INT_MSK0_GPIO);
 0B5A                   .dbline 491
 0B5A 41E0DF            and REG[0xe0],-33
 0B5D                   .dbline 509
 0B5D           ;                                              // command list for the CAT Port USB
 0B5D           ;                                            // > 10 liefert den Herzschlag des Moduls
 0B5D           ;                                        // > 11 liefert die Aktuelle Frequenz aus
 0B5D           ;                                        // > 12 get Status 2 
 0B5D           ;                                        // > 13 get Status 
 0B5D           ;                                            // > 14 increment Frequency for 1 channel independend from channel Value (12,5 khz/25 Khz)  
 0B5D           ;                                             //> 15 decrement Frequency for 1 Channel
 0B5D           ;                                             //> 16 Display off
 0B5D           ;                                            // > 17 Display on
 0B5D           ;                                             // > 18 get voltage from the device
 0B5D           ;                                             // > 19 increment squelch value for 1
 0B5D           ;                                             // > 20 decrement squelch value for 1
 0B5D           ;                                             // > 21 change Simplex/Duplex mode
 0B5D           ;                                              //> 22 change Power high/low
 0B5D           ;                                              //> 23 trx 1750hz tone for opening the FM Relais
 0B5D           ;                                              //> 24 change next Filter  
 0B5D           ;                                              //> 25 change channel value (12,5 khz/25 khz)
 0B5D           ;                                          strPtr=UART_2_szGetParam();
 0B5D 10                push X
 0B5E 7C0000            xcall _UART_2_szGetParam
 0B61 5300              mov [__r0],A
 0B63 5A00              mov [__r1],X
 0B65 20                pop X
 0B66 5100              mov A,[__r1]
 0B68 5401              mov [X+1],A
 0B6A 5100              mov A,[__r0]
 0B6C 5400              mov [X+0],A
 0B6E                   .dbline 510
 0B6E           ;                                    if(strchr(strPtr,'>')!=0) 
 0B6E 5000              mov A,0
 0B70 08                push A
 0B71 503E              mov A,62
 0B73 08                push A
 0B74 5200              mov A,[X+0]
 0B76 08                push A
 0B77 5201              mov A,[X+1]
 0B79 08                push A
 0B7A 7C0000            xcall _strchr
 0B7D 38FC              add SP,-4
 0B7F 3C0000            cmp [__r0],0
 0B82 B006              jnz X18
 0B84 3C0000            cmp [__r1],0
 0B87 A1DD              jz L126
 0B89           X18:
 0B89                   .dbline 513
 0B89           ;                                                                             {      
 0B89           ;                                                                                                                  
 0B89           ;                                                        while(strPtr = UART_2_szGetParam()) 
 0B89 81C0              xjmp L129
 0B8B           L128:
 0B8B                   .dbline 514
 0B8B           ;                                                                                                                                           {    
 0B8B                   .dbline 515
 0B8B           ;                                                                                                                                                               count=atoi(strPtr);
 0B8B 5200              mov A,[X+0]
 0B8D 08                push A
 0B8E 5201              mov A,[X+1]
 0B90 08                push A
 0B91 7C0000            xcall _atoi
 0B94 38FE              add SP,-2
 0B96 5100              mov A,[__r1]
 0B98 5403              mov [X+3],A
 0B9A 5100              mov A,[__r0]
 0B9C 5402              mov [X+2],A
 0B9E                   .dbline 516
 0B9E           ;                                                                                                                                                                               switch (count){
 0B9E 5203              mov A,[X+3]
 0BA0 110A              sub A,10
 0BA2 5202              mov A,[X+2]
 0BA4 3180              xor A,-128
 0BA6 1980              sbb A,(0 ^ 0x80)
 0BA8 C194              jc L131
 0BAA           X19:
 0BAA 5019              mov A,25
 0BAC 1303              sub A,[X+3]
 0BAE 5202              mov A,[X+2]
 0BB0 3180              xor A,-128
 0BB2 5300              mov [__rX],A
 0BB4 5080              mov A,(0 ^ 0x80)
 0BB6 1A00              sbb A,[__rX]
 0BB8 C184              jc L131
 0BBA           X20:
 0BBA 5203              mov A,[X+3]
 0BBC 110A              sub A,10
 0BBE 5300              mov [__r1],A
 0BC0 5202              mov A,[X+2]
 0BC2 1900              sbb A,0
 0BC4 5300              mov [__r0],A
 0BC6 6500              asl [__r1]
 0BC8 6B00              rlc [__r0]
 0BCA 060000            add [__r1],<L160
 0BCD 0E0000            adc [__r0],>L160
 0BD0 5100              mov A,[__r0]
 0BD2 10                push X
 0BD3 5800              mov X,[__r1]
 0BD5 08                push A
 0BD6 28                romx
 0BD7 5300              mov [__r0],A
 0BD9 18                pop A
 0BDA 75                inc X
 0BDB 0900              adc A,0
 0BDD 28                romx
 0BDE 5300              mov [__r1],A
 0BE0 20                pop X
 0BE1 5100              mov A,[__r0]
 0BE3 08                push A
 0BE4 5100              mov A,[__r1]
 0BE6 08                push A
 0BE7 7F                ret
 0BE8           X15:
 0BE8                   .dbfile F:\PSOCDE~1.4PR\fmfunke2\fmfunke2\main.c
 0BE8                   .dbline 516
 0BE8           L133:
 0BE8                   .dbline 518
 0BE8           ;                                                                                                                                                                                                  case 10:
 0BE8           ;                                                                                                                UART_2_CPutString("Heartbeat");
 0BE8 10                push X
 0BE9 502E              mov A,>L134
 0BEB 08                push A
 0BEC 502E              mov A,<L134
 0BEE 5C                mov X,A
 0BEF 18                pop A
 0BF0 7C0000            xcall _UART_2_CPutString
 0BF3 20                pop X
 0BF4                   .dbline 519
 0BF4           ;                                                                                                                                                                                                               break;
 0BF4 8148              xjmp L132
 0BF6           L135:
 0BF6                   .dbline 521
 0BF6           ;                                                                                                                                                                                                               case 11:
 0BF6           ;                                                                                                                                                                                                                       Print_Frequenz();
 0BF6 7C0041            xcall _Print_Frequenz
 0BF9                   .dbline 522
 0BF9           ;                                                                                                                                                                                                                               break;
 0BF9 8143              xjmp L132
 0BFB           L136:
 0BFB                   .dbline 524
 0BFB           ;                                                                                                                                                                                                   case 12:
 0BFB           ;                                                                                                                                                                                                               Print_Status2();
 0BFB 988C              xcall _Print_Status2
 0BFD           L137:
 0BFD                   .dbline 529
 0BFD           ;                                                                                                                                                                                                  // case 13:
 0BFD           ;                                                                                                                                                                                                        //       Print_status();
 0BFD           ;                                                                                                                                                                                                          //     break;
 0BFD           ;                                                                                                                                                                                                   case 14:
 0BFD           ;                                                                                                                                                                                                               if (((TXstatus & 1)==0)&&(frequenz<1459999)){
 0BFD 470B01            tst [_TXstatus],1
 0C00 B023              jnz L138
 0C02 5106              mov A,[_frequenz+3]
 0C04 111F              sub A,31
 0C06 5105              mov A,[_frequenz+2]
 0C08 1947              sbb A,71
 0C0A 5104              mov A,[_frequenz+1]
 0C0C 1916              sbb A,22
 0C0E 5103              mov A,[_frequenz]
 0C10 3180              xor A,-128
 0C12 1980              sbb A,(0 ^ 0x80)
 0C14 D00F              jnc L138
 0C16           X21:
 0C16                   .dbline 530
 0C16           ;                                                                                                                                                                                                                                                                                frequenz=frequenz+125;
 0C16                   .dbline 530
 0C16 06067D            add [_frequenz+3],125
 0C19 0E0500            adc [_frequenz+2],0
 0C1C 0E0400            adc [_frequenz+1],0
 0C1F 0E0300            adc [_frequenz],0
 0C22                   .dbline 532
 0C22           ;                                                                                                                                                                                                                                                                             
 0C22           ;                                                                                                                                                                                                                                                                                                                       }
 0C22 811A              xjmp L132
 0C24           L138:
 0C24                   .dbline 534
 0C24           ;                                                                                                                                                                                                                               else 
 0C24           ;                                                                                                                                                                                                                                                                                                                       {
 0C24                   .dbline 535
 0C24           ;                                                                                                                                                                                                                                                                                                                        frequenz=frequenz+250;                                                 
 0C24 0606FA            add [_frequenz+3],-6
 0C27 0E0500            adc [_frequenz+2],0
 0C2A 0E0400            adc [_frequenz+1],0
 0C2D 0E0300            adc [_frequenz],0
 0C30                   .dbline 536
 0C30           ;                                                                                                                                                                                                                                                                                                                       }
 0C30                   .dbline 538
 0C30           ;                                                                                                                                                                                                                               //komando_setgroup();                                                                                   
 0C30           ;                                                                                                                                                                                                                               break;
 0C30 810C              xjmp L132
 0C32           L140:
 0C32                   .dbline 540
 0C32           ;                                                                                                                                                                                                               case 15:        
 0C32           ;                                                                                                                                                                                                                               if (((TXstatus & 1)==0)&&(frequenz>1440001)){
 0C32 470B01            tst [_TXstatus],1
 0C35 B027              jnz L141
 0C37 5001              mov A,1
 0C39 1206              sub A,[_frequenz+3]
 0C3B 50F9              mov A,-7
 0C3D 1A05              sbb A,[_frequenz+2]
 0C3F 5015              mov A,21
 0C41 1A04              sbb A,[_frequenz+1]
 0C43 5103              mov A,[_frequenz]
 0C45 3180              xor A,-128
 0C47 5300              mov [__rX],A
 0C49 5080              mov A,(0 ^ 0x80)
 0C4B 1A00              sbb A,[__rX]
 0C4D D00F              jnc L141
 0C4F           X22:
 0C4F                   .dbline 541
 0C4F           ;                                                                                                                                                                                                                                                                                frequenz=frequenz-125;  
 0C4F                   .dbline 541
 0C4F 16067D            sub [_frequenz+3],125
 0C52 1E0500            sbb [_frequenz+2],0
 0C55 1E0400            sbb [_frequenz+1],0
 0C58 1E0300            sbb [_frequenz],0
 0C5B                   .dbline 542
 0C5B           ;                                                                                                                                                                                                                                                                                                                       }
 0C5B 80E1              xjmp L132
 0C5D           L141:
 0C5D                   .dbline 544
 0C5D           ;                                                                                                                                                                                                                               else 
 0C5D           ;                                                                                                                                                                                                                                                                                                                       {
 0C5D                   .dbline 545
 0C5D           ;                                                                                                                                                                                                                                                                                                                        frequenz=frequenz-250;                                                 
 0C5D 1606FA            sub [_frequenz+3],-6
 0C60 1E0500            sbb [_frequenz+2],0
 0C63 1E0400            sbb [_frequenz+1],0
 0C66 1E0300            sbb [_frequenz],0
 0C69                   .dbline 546
 0C69           ;                                                                                                                                                                                                                                                                                }
 0C69                   .dbline 548
 0C69           ;                                                                                                                                                                                                                               //komando_setgroup();                                                                                   
 0C69           ;                                                                                                                                                                                                                               break;
 0C69 80D3              xjmp L132
 0C6B           L143:
 0C6B                   .dbline 550
 0C6B           ;                                                                                                                                                                                                               case 16:        
 0C6B           ;                                                                                                                                                                                                                               LCD_1_Control(8);
 0C6B 10                push X
 0C6C 5008              mov A,8
 0C6E 7C0000            xcall _LCD_1_Control
 0C71 20                pop X
 0C72                   .dbline 551
 0C72           ;                                                                                                                                                                                                                 break;
 0C72 80CA              xjmp L132
 0C74           L144:
 0C74                   .dbline 553
 0C74           ;                                                                                                                                                                                                   case 17:
 0C74           ;                                                                                                                                                                                                                               LCD_1_Control(12);
 0C74 10                push X
 0C75 500C              mov A,12
 0C77 7C0000            xcall _LCD_1_Control
 0C7A 20                pop X
 0C7B                   .dbline 554
 0C7B           ;                                                                                                                                                                                                               break;
 0C7B 80C1              xjmp L132
 0C7D           L145:
 0C7D                   .dbline 557
 0C7D           ;                                                                                                                                                                                                               case 18:
 0C7D           ;                                                                                                                                                                                                               //get_voltage();
 0C7D           ;                                                                                                                                                                                                               print_voltage(1);
 0C7D 5001              mov A,1
 0C7F 08                push A
 0C80 7C0408            xcall _print_voltage
 0C83 38FF              add SP,-1
 0C85                   .dbline 558
 0C85           ;                                                                                                                                                                                                               break;
 0C85 80B7              xjmp L132
 0C87           L146:
 0C87                   .dbline 560
 0C87           ;                                                                                                                                                                                                   case 19:
 0C87           ;                                                                                                                                                                                                               if (Squelch<8){
 0C87 3C0108            cmp [_Squelch],8
 0C8A D0B2              jnc L132
 0C8C           X23:
 0C8C                   .dbline 561
 0C8C           ;                                                                                                                                                                                                                                                  Squelch++;
 0C8C                   .dbline 561
 0C8C 7601              inc [_Squelch]
 0C8E                   .dbline 563
 0C8E           ;                                                                                                                                                                                                                               
 0C8E           ;                                                                                                                                                                                                                                               }
 0C8E                   .dbline 564
 0C8E           ;                                                                                                                                                                                                                               break;
 0C8E 80AE              xjmp L132
 0C90           L149:
 0C90                   .dbline 566
 0C90           ;                                                                                                                                                                                                   case 20:
 0C90           ;                                                                                                                                                                                                               if (Squelch>0){
 0C90 5000              mov A,0
 0C92 3A01              cmp A,[_Squelch]
 0C94 D0A8              jnc L132
 0C96           X24:
 0C96                   .dbline 567
 0C96           ;                                                                                                                                                                                                                                                  Squelch--;
 0C96                   .dbline 567
 0C96 7A01              dec [_Squelch]
 0C98                   .dbline 569
 0C98           ;                                                                                                                                                                                                                               
 0C98           ;                                                                                                                                                                                                                                               }
 0C98                   .dbline 570
 0C98           ;                                                                                                                                                                                                                               break;
 0C98 80A4              xjmp L132
 0C9A           L152:
 0C9A                   .dbline 572
 0C9A           ;                                                                                                                                                                                                    case 21:
 0C9A           ;                                                                                                                                                                                                               TXstatus^= 0x02;
 0C9A 360B02            xor [_TXstatus],2
 0C9D                   .dbline 573
 0C9D           ;                                                                                                                                                                                                               break;
 0C9D 809F              xjmp L132
 0C9F           L153:
 0C9F                   .dbline 575
 0C9F           ;                                                                                                                                                                                                    case 22:
 0C9F           ;                                                                                                                                                                                                               TXstatus^= 0x04;
 0C9F 360B04            xor [_TXstatus],4
 0CA2                   .dbline 576
 0CA2           ;                                                                                                                                                                                                               HF_power_Invert(); 
 0CA2 10                push X
 0CA3 7C0000            xcall _HF_power_Invert
 0CA6 20                pop X
 0CA7                   .dbline 577
 0CA7           ;                                                                                                                                                                                                               break;
 0CA7 8095              xjmp L132
 0CA9           L154:
 0CA9                   .dbline 579
 0CA9           ;                                                                                                                                                                                                    case 24:
 0CA9           ;                                                                                                                                                                                                               filter++;
 0CA9 760C              inc [_filter]
 0CAB                   .dbline 580
 0CAB           ;                                                                                                                                                                                               if (filter>3){
 0CAB 5003              mov A,3
 0CAD 3A0C              cmp A,[_filter]
 0CAF D004              jnc L155
 0CB1           X25:
 0CB1                   .dbline 581
 0CB1           ;                                                                                                                                                                                                                                               filter=0;
 0CB1                   .dbline 581
 0CB1 550C00            mov [_filter],0
 0CB4                   .dbline 582
 0CB4           ;                                                                                                                                                                                                                               }
 0CB4           L155:
 0CB4                   .dbline 583
 0CB4           ;                                                                                                                                                                                                                                                       kommando_setfilter();
 0CB4 7C0000            xcall _kommando_setfilter
 0CB7                   .dbline 585
 0CB7           ;                                                                                                                                                                                                                                                       //Print_status();
 0CB7           ;                                                                                                                                                                                                               break;
 0CB7 8085              xjmp L132
 0CB9           L157:
 0CB9                   .dbline 587
 0CB9           ;                                                                                                                                                                                                    case 25:
 0CB9           ;                                                                                                                                                                                                                               TXstatus^= 0x01;
 0CB9 360B01            xor [_TXstatus],1
 0CBC                   .dbline 588
 0CBC           ;                                                                                                                                                                                                               if (((frequenz & 1)==1)&&((TXstatus & 1)==1)){
 0CBC 5106              mov A,[_frequenz+3]
 0CBE 2101              and A,1
 0CC0 550000            mov [__r2],0
 0CC3 550000            mov [__r1],0
 0CC6 550000            mov [__r0],0
 0CC9 3C0000            cmp [__r0],0
 0CCC B070              jnz L132
 0CCE 3C0000            cmp [__r1],0
 0CD1 B06B              jnz L132
 0CD3 3C0000            cmp [__r2],0
 0CD6 B066              jnz L132
 0CD8 3901              cmp A,1
 0CDA B062              jnz L132
 0CDC           X26:
 0CDC 510B              mov A,[_TXstatus]
 0CDE 2101              and A,1
 0CE0 3901              cmp A,1
 0CE2 B05A              jnz L132
 0CE4                   .dbline 589
 0CE4           ;                                                                                                                                                                                                                                                                         frequenz=(float)frequenz+125;
 0CE4                   .dbline 589
 0CE4 5103              mov A,[_frequenz]
 0CE6 08                push A
 0CE7 5104              mov A,[_frequenz+1]
 0CE9 08                push A
 0CEA 5105              mov A,[_frequenz+2]
 0CEC 08                push A
 0CED 5106              mov A,[_frequenz+3]
 0CEF 08                push A
 0CF0 7C0000            xcall __long2fp
 0CF3 18                pop A
 0CF4 5300              mov [__r3],A
 0CF6 18                pop A
 0CF7 5300              mov [__r2],A
 0CF9 18                pop A
 0CFA 5300              mov [__r1],A
 0CFC 18                pop A
 0CFD 5300              mov [__r0],A
 0CFF 5042              mov A,66
 0D01 08                push A
 0D02 50FA              mov A,-6
 0D04 08                push A
 0D05 5000              mov A,0
 0D07 08                push A
 0D08 08                push A
 0D09 5100              mov A,[__r0]
 0D0B 08                push A
 0D0C 5100              mov A,[__r1]
 0D0E 08                push A
 0D0F 5100              mov A,[__r2]
 0D11 08                push A
 0D12 5100              mov A,[__r3]
 0D14 08                push A
 0D15 7C0000            xcall __fpadd
 0D18 18                pop A
 0D19 5300              mov [__r3],A
 0D1B 18                pop A
 0D1C 5300              mov [__r2],A
 0D1E 18                pop A
 0D1F 5300              mov [__r1],A
 0D21 18                pop A
 0D22 38FC              add SP,-4
 0D24 08                push A
 0D25 5100              mov A,[__r1]
 0D27 08                push A
 0D28 5100              mov A,[__r2]
 0D2A 08                push A
 0D2B 5100              mov A,[__r3]
 0D2D 08                push A
 0D2E 7C0000            xcall __fp2long
 0D31 18                pop A
 0D32 5306              mov [_frequenz+3],A
 0D34 18                pop A
 0D35 5305              mov [_frequenz+2],A
 0D37 18                pop A
 0D38 5304              mov [_frequenz+1],A
 0D3A 18                pop A
 0D3B 5303              mov [_frequenz],A
 0D3D                   .dbline 591
 0D3D           ;                                                                                                                                                                                                                                                                             
 0D3D           ;                                                                                                                                                                                                                                                                                }
 0D3D                   .dbline 592
 0D3D           ;                                                                                                                                                                                                                               break;                                  
 0D3D           L131:
 0D3D           L132:
 0D3D                   .dbline 595
 0D3D           ;                                                                                                                                                                                                               
 0D3D           ;                                                                                                                                                                                             } 
 0D3D           ;                                                                                                                                                                                              komando_setgroup();
 0D3D 998E              xcall _komando_setgroup
 0D3F                   .dbline 596
 0D3F           ;                                                                                                                                                                                              eprom(0);
 0D3F 5000              mov A,0
 0D41 08                push A
 0D42 7C01B7            xcall _eprom
 0D45 38FF              add SP,-1
 0D47                   .dbline 597
 0D47           ;                                                                                                                                                                                              Print_status();
 0D47 7C0514            xcall _Print_status
 0D4A                   .dbline 598
 0D4A           ;                                                                                                                                                                               }
 0D4A           L129:
 0D4A                   .dbline 513
 0D4A 10                push X
 0D4B 7C0000            xcall _UART_2_szGetParam
 0D4E 5300              mov [__r0],A
 0D50 5A00              mov [__r1],X
 0D52 20                pop X
 0D53 5100              mov A,[__r1]
 0D55 5401              mov [X+1],A
 0D57 5100              mov A,[__r0]
 0D59 5400              mov [X+0],A
 0D5B 3C0000            cmp [__r0],0
 0D5E BE2C              jnz L128
 0D60 3C0000            cmp [__r1],0
 0D63 BE27              jnz L128
 0D65           X27:
 0D65                   .dbline 600
 0D65           ;                                                                                                                                                                               
 0D65           ;                                                                                                       }
 0D65           L126:
 0D65                   .dbline 601
 0D65           ;                                                                                   UART_2_CmdReset();
 0D65 10                push X
 0D66 7C0000            xcall _UART_2_CmdReset
 0D69 20                pop X
 0D6A                   .dbline 602
 0D6A           ;                                                                                                       M8C_EnableIntMask(INT_MSK0, INT_MSK0_GPIO);
 0D6A 43E020            or REG[0xe0],32
 0D6D                   .dbline 603
 0D6D           ;                                       }
 0D6D           L124:
 0D6D                   .dbline 604
 0D6D           ;               if ((TXstatus & 16)==16){
 0D6D 510B              mov A,[_TXstatus]
 0D6F 2110              and A,16
 0D71 3910              cmp A,16
 0D73 B027              jnz L161
 0D75                   .dbline 605
 0D75           ;                             M8C_DisableIntMask(INT_MSK0, INT_MSK0_GPIO);
 0D75                   .dbline 605
 0D75 41E0DF            and REG[0xe0],-33
 0D78                   .dbline 606
 0D78           ;                     if ((TXstatus & 32)==32){
 0D78 510B              mov A,[_TXstatus]
 0D7A 2120              and A,32
 0D7C 3920              cmp A,32
 0D7E B006              jnz L163
 0D80                   .dbline 607
 0D80           ;                                                     kommando_rufton();
 0D80                   .dbline 607
 0D80 7C0000            xcall _kommando_rufton
 0D83                   .dbline 608
 0D83           ;                                                 }
 0D83 8009              xjmp L164
 0D85           L163:
 0D85                   .dbline 610
 0D85           ;                                 else
 0D85           ;                                                         {
 0D85                   .dbline 611
 0D85           ;                                                       wait_ptt();
 0D85 7C0000            xcall _wait_ptt
 0D88                   .dbline 612
 0D88           ;                                                                Eingangsamp_Stop();
 0D88 10                push X
 0D89 7C0000            xcall _Eingangsamp_Stop
 0D8C 20                pop X
 0D8D                   .dbline 613
 0D8D           ;                                                   }
 0D8D           L164:
 0D8D                   .dbline 614
 0D8D           ;                         PTT_Invert();
 0D8D 10                push X
 0D8E 7C0000            xcall _PTT_Invert
 0D91 20                pop X
 0D92                   .dbline 615
 0D92           ;                     TXstatus &=207;
 0D92 260BCF            and [_TXstatus],-49
 0D95                   .dbline 616
 0D95           ;                     Print_Frequenz();
 0D95 7C0041            xcall _Print_Frequenz
 0D98                   .dbline 617
 0D98           ;                             M8C_EnableIntMask(INT_MSK0, INT_MSK0_GPIO);
 0D98 43E020            or REG[0xe0],32
 0D9B                   .dbline 618
 0D9B           ;             }
 0D9B           L161:
 0D9B                   .dbline 625
 0D9B           ;               /*if (((TXstatus2 & 3)==3)&&((TXstatus & 128)==0)){
 0D9B           ;                                                                    //clear_LCD();
 0D9B           ;                                                                    Print_Frequenz();
 0D9B           ;                                                                    line();
 0D9B           ;                                                                   
 0D9B           ;                                       }*/
 0D9B           ;           if (direction >=128){
 0D9B 3C0980            cmp [_direction],-128
 0D9E C0C4              jc L165
 0DA0           X28:
 0DA0                   .dbline 627
 0DA0           ;                                           
 0DA0           ;                                        if ((direction==129)&& ((TXstatus & 1)==0)){
 0DA0                   .dbline 627
 0DA0 3C0981            cmp [_direction],-127
 0DA3 B026              jnz L167
 0DA5 470B01            tst [_TXstatus],1
 0DA8 B021              jnz L167
 0DAA                   .dbline 628
 0DAA           ;                                                                                                       if (frequenz<1459999){
 0DAA                   .dbline 628
 0DAA 5106              mov A,[_frequenz+3]
 0DAC 111F              sub A,31
 0DAE 5105              mov A,[_frequenz+2]
 0DB0 1947              sbb A,71
 0DB2 5104              mov A,[_frequenz+1]
 0DB4 1916              sbb A,22
 0DB6 5103              mov A,[_frequenz]
 0DB8 3180              xor A,-128
 0DBA 1980              sbb A,(0 ^ 0x80)
 0DBC D00D              jnc L169
 0DBE           X29:
 0DBE                   .dbline 629
 0DBE           ;                                                                                                                          frequenz=frequenz+125;
 0DBE                   .dbline 629
 0DBE 06067D            add [_frequenz+3],125
 0DC1 0E0500            adc [_frequenz+2],0
 0DC4 0E0400            adc [_frequenz+1],0
 0DC7 0E0300            adc [_frequenz],0
 0DCA                   .dbline 630
 0DCA           ;                                                                                                                                                                 }
 0DCA           L169:
 0DCA                   .dbline 631
 0DCA           ;                                                                                                                                               }
 0DCA           L167:
 0DCA                   .dbline 632
 0DCA           ;                                                        if ((direction==128)&& ((TXstatus & 1)==0)){
 0DCA 3C0980            cmp [_direction],-128
 0DCD B02A              jnz L171
 0DCF 470B01            tst [_TXstatus],1
 0DD2 B025              jnz L171
 0DD4                   .dbline 633
 0DD4           ;                                                                                                                   if (frequenz>1440001){
 0DD4                   .dbline 633
 0DD4 5001              mov A,1
 0DD6 1206              sub A,[_frequenz+3]
 0DD8 50F9              mov A,-7
 0DDA 1A05              sbb A,[_frequenz+2]
 0DDC 5015              mov A,21
 0DDE 1A04              sbb A,[_frequenz+1]
 0DE0 5103              mov A,[_frequenz]
 0DE2 3180              xor A,-128
 0DE4 5300              mov [__rX],A
 0DE6 5080              mov A,(0 ^ 0x80)
 0DE8 1A00              sbb A,[__rX]
 0DEA D00D              jnc L173
 0DEC           X30:
 0DEC                   .dbline 634
 0DEC           ;                                                                                                                           frequenz=frequenz-125;
 0DEC                   .dbline 634
 0DEC 16067D            sub [_frequenz+3],125
 0DEF 1E0500            sbb [_frequenz+2],0
 0DF2 1E0400            sbb [_frequenz+1],0
 0DF5 1E0300            sbb [_frequenz],0
 0DF8                   .dbline 635
 0DF8           ;                                                                                                                               }
 0DF8           L173:
 0DF8                   .dbline 636
 0DF8           ;                                                                                                                                               }
 0DF8           L171:
 0DF8                   .dbline 637
 0DF8           ;                                                       if ((direction==129)&& ((TXstatus & 1)==1)){
 0DF8 3C0981            cmp [_direction],-127
 0DFB B029              jnz L175
 0DFD 510B              mov A,[_TXstatus]
 0DFF 2101              and A,1
 0E01 3901              cmp A,1
 0E03 B021              jnz L175
 0E05                   .dbline 638
 0E05           ;                                                                                                                                               if (frequenz<1459999){
 0E05                   .dbline 638
 0E05 5106              mov A,[_frequenz+3]
 0E07 111F              sub A,31
 0E09 5105              mov A,[_frequenz+2]
 0E0B 1947              sbb A,71
 0E0D 5104              mov A,[_frequenz+1]
 0E0F 1916              sbb A,22
 0E11 5103              mov A,[_frequenz]
 0E13 3180              xor A,-128
 0E15 1980              sbb A,(0 ^ 0x80)
 0E17 D00D              jnc L177
 0E19           X31:
 0E19                   .dbline 639
 0E19           ;                                                                                                                                                                                       frequenz=frequenz+250;
 0E19                   .dbline 639
 0E19 0606FA            add [_frequenz+3],-6
 0E1C 0E0500            adc [_frequenz+2],0
 0E1F 0E0400            adc [_frequenz+1],0
 0E22 0E0300            adc [_frequenz],0
 0E25                   .dbline 640
 0E25           ;                                                                                                                                                                                       }
 0E25           L177:
 0E25                   .dbline 641
 0E25           ;                                                                                                                                                       }
 0E25           L175:
 0E25                   .dbline 642
 0E25           ;                                                        if ((direction==128)&& ((TXstatus & 1)==1)){
 0E25 3C0980            cmp [_direction],-128
 0E28 B02D              jnz L179
 0E2A 510B              mov A,[_TXstatus]
 0E2C 2101              and A,1
 0E2E 3901              cmp A,1
 0E30 B025              jnz L179
 0E32                   .dbline 643
 0E32           ;                                                                                                                       if (frequenz>1440001){
 0E32                   .dbline 643
 0E32 5001              mov A,1
 0E34 1206              sub A,[_frequenz+3]
 0E36 50F9              mov A,-7
 0E38 1A05              sbb A,[_frequenz+2]
 0E3A 5015              mov A,21
 0E3C 1A04              sbb A,[_frequenz+1]
 0E3E 5103              mov A,[_frequenz]
 0E40 3180              xor A,-128
 0E42 5300              mov [__rX],A
 0E44 5080              mov A,(0 ^ 0x80)
 0E46 1A00              sbb A,[__rX]
 0E48 D00D              jnc L181
 0E4A           X32:
 0E4A                   .dbline 644
 0E4A           ;                                                                                                                                                               frequenz=frequenz-250;
 0E4A                   .dbline 644
 0E4A 1606FA            sub [_frequenz+3],-6
 0E4D 1E0500            sbb [_frequenz+2],0
 0E50 1E0400            sbb [_frequenz+1],0
 0E53 1E0300            sbb [_frequenz],0
 0E56                   .dbline 645
 0E56           ;                                                                                                                                               }
 0E56           L181:
 0E56                   .dbline 646
 0E56           ;                                                                                                                       }       
 0E56           L179:
 0E56                   .dbline 649
 0E56           ;                                                       
 0E56           ;                                                           
 0E56           ;                                                               direction=0;                                            
 0E56 550900            mov [_direction],0
 0E59                   .dbline 650
 0E59           ;                                                               komando_setgroup();
 0E59 9872              xcall _komando_setgroup
 0E5B                   .dbline 651
 0E5B           ;                                                           eprom(0);
 0E5B 5000              mov A,0
 0E5D 08                push A
 0E5E 7C01B7            xcall _eprom
 0E61 38FF              add SP,-1
 0E63                   .dbline 652
 0E63           ;                                       }
 0E63           L165:
 0E63                   .dbline 654
 0E63           ;               //Menue abfrage
 0E63           ;           if (((PRT1DR & 16)!=16) &&((TXstatus & 32)==0)){ //Menutaste gedrückt und Sender aus 
 0E63 5D04              mov A,REG[0x4]
 0E65 2110              and A,16
 0E67 3910              cmp A,16
 0E69 A31D              jz L183
 0E6B 470B20            tst [_TXstatus],32
 0E6E B318              jnz L183
 0E70                   .dbline 655
 0E70           ;                                        PRT1IE &=0xdf; //Tx on sperren solange Menu aktiv
 0E70                   .dbline 655
 0E70 4105DF            and REG[0x5],-33
 0E73                   .dbline 656
 0E73           ;                                        PRT0IE &=0xF7; // drehgeber 2 Interupt sperren solange Menu aktiv
 0E73 4101F7            and REG[0x1],-9
 0E76                   .dbline 657
 0E76           ;                                         TXstatus |=0x80;
 0E76 2E0B80            or [_TXstatus],-128
 0E79                   .dbline 658
 0E79           ;                                        Timer8_2_DisableInt(); 
 0E79 10                push X
 0E7A 7C0000            xcall _Timer8_2_DisableInt
 0E7D 20                pop X
 0E7E 82BE              xjmp L186
 0E80           L185:
 0E80                   .dbline 660
 0E80           ;                                     
 0E80           ;                                       while (((TXstatus & 128)==128)&&((PRT1DR & 16)!=16)){
 0E80                   .dbline 661
 0E80           ;                                                                                                               M8C_ClearWDT;   
 0E80 62E300            mov REG[0xe3],0
 0E83                   .dbline 662
 0E83           ;                                                                                                                       LCD_1_Position(0,0);
 0E83 10                push X
 0E84 5000              mov A,0
 0E86 5700              mov X,0
 0E88 7C0000            xcall _LCD_1_Position
 0E8B                   .dbline 663
 0E8B           ;                                                                                                                                                               LCD_1_PrCString("     Menue          ");
 0E8B 5019              mov A,>L188
 0E8D 08                push A
 0E8E 5019              mov A,<L188
 0E90 5C                mov X,A
 0E91 18                pop A
 0E92 7C0000            xcall _LCD_1_PrCString
 0E95                   .dbline 664
 0E95           ;                                                                                                                                                               LCD_1_Control(15);                                                                                                              
 0E95 500F              mov A,15
 0E97 7C0000            xcall _LCD_1_Control
 0E9A 20                pop X
 0E9B                   .dbline 665
 0E9B           ;                                                                                                               menu_taste_down();
 0E9B 7C0029            xcall _menu_taste_down
 0E9E                   .dbline 666
 0E9E           ;                                                                                                                                                               LCD_1_Position(2,2);
 0E9E 10                push X
 0E9F 5002              mov A,2
 0EA1 5702              mov X,2
 0EA3 7C0000            xcall _LCD_1_Position
 0EA6 20                pop X
 0EA7 809C              xjmp L190
 0EA9           L189:
 0EA9                   .dbline 667
 0EA9           ;                                                                                                                                                       while ((PRT1DR & 16)==16){
 0EA9                   .dbline 668
 0EA9           ;                                                                                                                                                                                                               if (direction>=128){
 0EA9 3C0980            cmp [_direction],-128
 0EAC C094              jc L192
 0EAE           X33:
 0EAE                   .dbline 669
 0EAE           ;                                                                                                                                                                                                                                               direction=0;
 0EAE                   .dbline 669
 0EAE 550900            mov [_direction],0
 0EB1                   .dbline 670
 0EB1           ;                                                                                                                                                                                                                                               TXstatus^= 0x01;
 0EB1 360B01            xor [_TXstatus],1
 0EB4                   .dbline 671
 0EB4           ;                                                                                                                                                                                                                               if (((frequenz & 1)==1)&&((TXstatus & 1)==1)){
 0EB4 5106              mov A,[_frequenz+3]
 0EB6 2101              and A,1
 0EB8 550000            mov [__r2],0
 0EBB 550000            mov [__r1],0
 0EBE 550000            mov [__r0],0
 0EC1 3C0000            cmp [__r0],0
 0EC4 B070              jnz L194
 0EC6 3C0000            cmp [__r1],0
 0EC9 B06B              jnz L194
 0ECB 3C0000            cmp [__r2],0
 0ECE B066              jnz L194
 0ED0 3901              cmp A,1
 0ED2 B062              jnz L194
 0ED4           X34:
 0ED4 510B              mov A,[_TXstatus]
 0ED6 2101              and A,1
 0ED8 3901              cmp A,1
 0EDA B05A              jnz L194
 0EDC                   .dbline 672
 0EDC           ;                                                                                                                                                                                                                                                                         frequenz=(float)frequenz+125;
 0EDC                   .dbline 672
 0EDC 5103              mov A,[_frequenz]
 0EDE 08                push A
 0EDF 5104              mov A,[_frequenz+1]
 0EE1 08                push A
 0EE2 5105              mov A,[_frequenz+2]
 0EE4 08                push A
 0EE5 5106              mov A,[_frequenz+3]
 0EE7 08                push A
 0EE8 7C0000            xcall __long2fp
 0EEB 18                pop A
 0EEC 5300              mov [__r3],A
 0EEE 18                pop A
 0EEF 5300              mov [__r2],A
 0EF1 18                pop A
 0EF2 5300              mov [__r1],A
 0EF4 18                pop A
 0EF5 5300              mov [__r0],A
 0EF7 5042              mov A,66
 0EF9 08                push A
 0EFA 50FA              mov A,-6
 0EFC 08                push A
 0EFD 5000              mov A,0
 0EFF 08                push A
 0F00 08                push A
 0F01 5100              mov A,[__r0]
 0F03 08                push A
 0F04 5100              mov A,[__r1]
 0F06 08                push A
 0F07 5100              mov A,[__r2]
 0F09 08                push A
 0F0A 5100              mov A,[__r3]
 0F0C 08                push A
 0F0D 7C0000            xcall __fpadd
 0F10 18                pop A
 0F11 5300              mov [__r3],A
 0F13 18                pop A
 0F14 5300              mov [__r2],A
 0F16 18                pop A
 0F17 5300              mov [__r1],A
 0F19 18                pop A
 0F1A 38FC              add SP,-4
 0F1C 08                push A
 0F1D 5100              mov A,[__r1]
 0F1F 08                push A
 0F20 5100              mov A,[__r2]
 0F22 08                push A
 0F23 5100              mov A,[__r3]
 0F25 08                push A
 0F26 7C0000            xcall __fp2long
 0F29 18                pop A
 0F2A 5306              mov [_frequenz+3],A
 0F2C 18                pop A
 0F2D 5305              mov [_frequenz+2],A
 0F2F 18                pop A
 0F30 5304              mov [_frequenz+1],A
 0F32 18                pop A
 0F33 5303              mov [_frequenz],A
 0F35                   .dbline 673
 0F35           ;                                                                                                                                                                                                                                                                                               }
 0F35           L194:
 0F35                   .dbline 674
 0F35           ;                                                                                                                                                                                                                                               Print_status();
 0F35 7C0514            xcall _Print_status
 0F38                   .dbline 676
 0F38           ;                                                                                                                                                                                                                                                               
 0F38           ;                                                                                                                                                                                                                                                               LCD_1_Position(2,2);
 0F38 10                push X
 0F39 5002              mov A,2
 0F3B 5702              mov X,2
 0F3D 7C0000            xcall _LCD_1_Position
 0F40 20                pop X
 0F41                   .dbline 677
 0F41           ;                                                                                                                                                                                                                                                               }
 0F41           L192:
 0F41                   .dbline 678
 0F41           ;                                                                                                                                                                                                                       M8C_ClearWDT;   
 0F41 62E300            mov REG[0xe3],0
 0F44                   .dbline 679
 0F44           ;                                                                                                                                                                                        }
 0F44           L190:
 0F44                   .dbline 667
 0F44 5D04              mov A,REG[0x4]
 0F46 2110              and A,16
 0F48 3910              cmp A,16
 0F4A AF5E              jz L189
 0F4C                   .dbline 681
 0F4C           ;                                                                                                                                                       
 0F4C           ;                                                                                                                                                               menu_taste_down();
 0F4C 7C0029            xcall _menu_taste_down
 0F4F                   .dbline 682
 0F4F           ;                                                                                                                                                               LCD_1_Position(2,15);
 0F4F 10                push X
 0F50 570F              mov X,15
 0F52 5002              mov A,2
 0F54 7C0000            xcall _LCD_1_Position
 0F57 20                pop X
 0F58 801E              xjmp L197
 0F5A           L196:
 0F5A                   .dbline 684
 0F5A           ;                                                                                                                                                               //Auswahl HF Power
 0F5A           ;                                                                                                                               while   ((PRT1DR & 16)==16){
 0F5A                   .dbline 685
 0F5A           ;                                                                                                                                                                                               if (direction>=128){
 0F5A 3C0980            cmp [_direction],-128
 0F5D C016              jc L199
 0F5F           X35:
 0F5F                   .dbline 686
 0F5F           ;                                                                                                                                                                                                                                               direction=0;
 0F5F                   .dbline 686
 0F5F 550900            mov [_direction],0
 0F62                   .dbline 687
 0F62           ;                                                                                                                                                                                                                                               TXstatus^= 0x04;
 0F62 360B04            xor [_TXstatus],4
 0F65                   .dbline 688
 0F65           ;                                                                                                                                                                                                                                               Print_status();
 0F65 7C0514            xcall _Print_status
 0F68                   .dbline 689
 0F68           ;                                                                                                                                                                                                                                               HF_power_Invert();
 0F68 10                push X
 0F69 7C0000            xcall _HF_power_Invert
 0F6C                   .dbline 690
 0F6C           ;                                                                                                                                                                                                                                                               LCD_1_Position(2,15);                                   
 0F6C 570F              mov X,15
 0F6E 5002              mov A,2
 0F70 7C0000            xcall _LCD_1_Position
 0F73 20                pop X
 0F74                   .dbline 691
 0F74           ;                                                                                                                                                                                                                                       }
 0F74           L199:
 0F74                   .dbline 692
 0F74           ;                                                                                                                                                                                                                       M8C_ClearWDT;   
 0F74 62E300            mov REG[0xe3],0
 0F77                   .dbline 693
 0F77           ;                                                                                                                                                                                               } 
 0F77           L197:
 0F77                   .dbline 684
 0F77 5D04              mov A,REG[0x4]
 0F79 2110              and A,16
 0F7B 3910              cmp A,16
 0F7D AFDC              jz L196
 0F7F                   .dbline 694
 0F7F           ;                                                                                                                                                               menu_taste_down();
 0F7F 7C0029            xcall _menu_taste_down
 0F82                   .dbline 695
 0F82           ;                                                                                                                                                               LCD_1_Position(3,2);
 0F82 10                push X
 0F83 5702              mov X,2
 0F85 5003              mov A,3
 0F87 7C0000            xcall _LCD_1_Position
 0F8A 20                pop X
 0F8B 8044              xjmp L202
 0F8D           L201:
 0F8D                   .dbline 697
 0F8D           ;                                                                                                                                                               //Auswahl Squelch level
 0F8D           ;                                                                                                                                                               while   ((PRT1DR & 16)==16){
 0F8D                   .dbline 698
 0F8D           ;                                                                                                                                                                                               if((direction==128)&&(Squelch<=8)){
 0F8D 3C0980            cmp [_direction],-128
 0F90 B018              jnz L204
 0F92 5008              mov A,8
 0F94 3A01              cmp A,[_Squelch]
 0F96 C012              jc L204
 0F98           X36:
 0F98                   .dbline 700
 0F98           ;                                                                                                                                      
 0F98           ;                                                                                                                                                                                                                                                               direction=0;
 0F98                   .dbline 700
 0F98 550900            mov [_direction],0
 0F9B                   .dbline 701
 0F9B           ;                                                                                                                                                                                                                                                               Squelch++;
 0F9B 7601              inc [_Squelch]
 0F9D                   .dbline 702
 0F9D           ;                                                                                                                                                                                                                                                           if (Squelch>8){
 0F9D 5008              mov A,8
 0F9F 3A01              cmp A,[_Squelch]
 0FA1 D004              jnc L206
 0FA3           X37:
 0FA3                   .dbline 703
 0FA3           ;                                                                                                                                                                                                                                                                                                       Squelch=8;
 0FA3                   .dbline 703
 0FA3 550108            mov [_Squelch],8
 0FA6                   .dbline 704
 0FA6           ;                                                                                                                                                                                                                                                                                                       }
 0FA6           L206:
 0FA6                   .dbline 705
 0FA6           ;                                                                                                                                                                                                                                                               Print_status();
 0FA6 7C0514            xcall _Print_status
 0FA9                   .dbline 707
 0FA9           ;                                                                                                                                                                                                                                                               //LCD_1_Position(1,22);
 0FA9           ;                                                                                                                                                                                                                                                                               }
 0FA9           L204:
 0FA9                   .dbline 708
 0FA9           ;                                                                                                                                                                                                                       if ((direction==129)&&(Squelch>=0)){
 0FA9 3C0981            cmp [_direction],-127
 0FAC B017              jnz L208
 0FAE 3C0100            cmp [_Squelch],0
 0FB1 C012              jc L208
 0FB3           X38:
 0FB3                   .dbline 709
 0FB3           ;                                                                                                                                                                                                                                                               direction=0;
 0FB3                   .dbline 709
 0FB3 550900            mov [_direction],0
 0FB6                   .dbline 710
 0FB6           ;                                                                                                                                                                                                                                                                Squelch--; 
 0FB6 7A01              dec [_Squelch]
 0FB8                   .dbline 711
 0FB8           ;                                                                                                                                                                                                                                                               if (Squelch>20){
 0FB8 5014              mov A,20
 0FBA 3A01              cmp A,[_Squelch]
 0FBC D004              jnc L210
 0FBE           X39:
 0FBE                   .dbline 712
 0FBE           ;                                                                                                                                                                                                                                                                                                                       Squelch=0;
 0FBE                   .dbline 712
 0FBE 550100            mov [_Squelch],0
 0FC1                   .dbline 713
 0FC1           ;                                                                                                                                                                                                                                                                                                               }
 0FC1           L210:
 0FC1                   .dbline 714
 0FC1           ;                                                                                                                                                                                                                                                               Print_status();
 0FC1 7C0514            xcall _Print_status
 0FC4                   .dbline 716
 0FC4           ;                                                                                                                                                                                                                                                               //LCD_1_Position(1,22);
 0FC4           ;                                                                                                                                                                                                                                                       }
 0FC4           L208:
 0FC4                   .dbline 718
 0FC4           ;                                                                                                                                                                       //      warte(100);
 0FC4           ;                                                                                                                                                                                                                       LCD_1_Position(3,2);
 0FC4 10                push X
 0FC5 5702              mov X,2
 0FC7 5003              mov A,3
 0FC9 7C0000            xcall _LCD_1_Position
 0FCC 20                pop X
 0FCD                   .dbline 719
 0FCD           ;                                                                                                                                                                                                                       M8C_ClearWDT;   
 0FCD 62E300            mov REG[0xe3],0
 0FD0                   .dbline 720
 0FD0           ;                                                                                                                                                                                                                       }                       
 0FD0           L202:
 0FD0                   .dbline 697
 0FD0 5D04              mov A,REG[0x4]
 0FD2 2110              and A,16
 0FD4 3910              cmp A,16
 0FD6 AFB6              jz L201
 0FD8                   .dbline 722
 0FD8           ;                                                                                                                                                       
 0FD8           ;                                                                                                                                                               menu_taste_down();
 0FD8 7C0029            xcall _menu_taste_down
 0FDB                   .dbline 723
 0FDB           ;                                                                                                                                                               LCD_1_Position(3,6);
 0FDB 10                push X
 0FDC 5706              mov X,6
 0FDE 5003              mov A,3
 0FE0 7C0000            xcall _LCD_1_Position
 0FE3 20                pop X
 0FE4 801B              xjmp L213
 0FE6           L212:
 0FE6                   .dbline 725
 0FE6           ;                                                                                                                                                               // Auswahl    simplex /Duplex
 0FE6           ;                                                                                                                                                               while   ((PRT1DR & 16)==16){
 0FE6                   .dbline 726
 0FE6           ;                                                                                                                                                                                                if (direction>=128){
 0FE6 3C0980            cmp [_direction],-128
 0FE9 C013              jc L215
 0FEB           X40:
 0FEB                   .dbline 727
 0FEB           ;                                                                                                                                                                                                                                               direction=0;
 0FEB                   .dbline 727
 0FEB 550900            mov [_direction],0
 0FEE                   .dbline 728
 0FEE           ;                                                                                                                                                                                                                                               TXstatus^= 0x02;
 0FEE 360B02            xor [_TXstatus],2
 0FF1                   .dbline 729
 0FF1           ;                                                                                                                                                                                                                                               Print_status();
 0FF1 7C0514            xcall _Print_status
 0FF4                   .dbline 730
 0FF4           ;                                                                                                                                                                                                                                               LCD_1_Position(3,6);
 0FF4 10                push X
 0FF5 5706              mov X,6
 0FF7 5003              mov A,3
 0FF9 7C0000            xcall _LCD_1_Position
 0FFC 20                pop X
 0FFD                   .dbline 731
 0FFD           ;                                                                                                                                                                                                                                               }
 0FFD           L215:
 0FFD                   .dbline 732
 0FFD           ;                                                                                                                                                                                                                       M8C_ClearWDT;   
 0FFD 62E300            mov REG[0xe3],0
 1000                   .dbline 734
 1000           ;                                                                                                                                                                                                                       
 1000           ;                                                                                                                                                                                               }  
 1000           L213:
 1000                   .dbline 725
 1000 5D04              mov A,REG[0x4]
 1002 2110              and A,16
 1004 3910              cmp A,16
 1006 AFDF              jz L212
 1008                   .dbline 736
 1008           ;                                                                                                                                                               
 1008           ;                                                                                                                                                               menu_taste_down();
 1008 7C0029            xcall _menu_taste_down
 100B                   .dbline 737
 100B           ;                                                                                                                                                               LCD_1_Position(3,12);
 100B 10                push X
 100C 570C              mov X,12
 100E 5003              mov A,3
 1010 7C0000            xcall _LCD_1_Position
 1013 20                pop X
 1014 804A              xjmp L218
 1016           L217:
 1016                   .dbline 738
 1016           ;                                                                                                                                                               while   ((PRT1DR & 16)==16){
 1016                   .dbline 739
 1016           ;                                                                                                                                                                                               if ((direction==128)&&(filter<=3)){
 1016 3C0980            cmp [_direction],-128
 1019 B01B              jnz L220
 101B 5003              mov A,3
 101D 3A0C              cmp A,[_filter]
 101F C015              jc L220
 1021           X41:
 1021                   .dbline 740
 1021           ;                                                                                                                                                                                                                                                               filter++;
 1021                   .dbline 740
 1021 760C              inc [_filter]
 1023                   .dbline 741
 1023           ;                                                                                                                                                                                                                                                                                               direction=0;
 1023 550900            mov [_direction],0
 1026                   .dbline 742
 1026           ;                                                                                                                                                                                                                                                               if (filter>3){
 1026 5003              mov A,3
 1028 3A0C              cmp A,[_filter]
 102A D004              jnc L222
 102C           X42:
 102C                   .dbline 743
 102C           ;                                                                                                                                                                                                                                                                                                               filter=3;
 102C                   .dbline 743
 102C 550C03            mov [_filter],3
 102F                   .dbline 744
 102F           ;                                                                                                                                                                                                                                                                                                       }
 102F           L222:
 102F                   .dbline 745
 102F           ;                                                                                                                                                                                                                                                                                               kommando_setfilter();
 102F 7C0000            xcall _kommando_setfilter
 1032                   .dbline 746
 1032           ;                                                                                                                                                                                                                                                                                               Print_status();
 1032 7C0514            xcall _Print_status
 1035                   .dbline 749
 1035           ;                                                                                                                                                                                                                                                                                       //LCD_1_Position(1,32);
 1035           ;                                                                                                                                                                                                                                      
 1035           ;                                                                                                                                                                                                                                                       }
 1035           L220:
 1035                   .dbline 750
 1035           ;                                                                                                                                                                                                                       if ((direction==129)&&(filter>=0)){
 1035 3C0981            cmp [_direction],-127
 1038 B01A              jnz L224
 103A 3C0C00            cmp [_filter],0
 103D C015              jc L224
 103F           X43:
 103F                   .dbline 751
 103F           ;                                                                                                                                                                                                                                                               filter--; 
 103F                   .dbline 751
 103F 7A0C              dec [_filter]
 1041                   .dbline 752
 1041           ;                                                                                                                                                                                                                                                                                               direction=0;
 1041 550900            mov [_direction],0
 1044                   .dbline 753
 1044           ;                                                                                                                                                                                                                                                               if (filter>20){
 1044 5014              mov A,20
 1046 3A0C              cmp A,[_filter]
 1048 D004              jnc L226
 104A           X44:
 104A                   .dbline 754
 104A           ;                                                                                                                                                                                                                                                                                                       filter=0;
 104A                   .dbline 754
 104A 550C00            mov [_filter],0
 104D                   .dbline 755
 104D           ;                                                                                                                                                                                                                                                                                                               }
 104D           L226:
 104D                   .dbline 756
 104D           ;                                                                                                                                                                                                                                                                                               kommando_setfilter();
 104D 7C0000            xcall _kommando_setfilter
 1050                   .dbline 757
 1050           ;                                                                                                                                                                                                                                                                                               Print_status();
 1050 7C0514            xcall _Print_status
 1053                   .dbline 759
 1053           ;                                                                                                                                                                                                                                                                                       //LCD_1_Position(1,32);
 1053           ;                                                                                                                                                                                                                                                       }       
 1053           L224:
 1053                   .dbline 762
 1053           ;                                                                                                               
 1053           ;                                                                                                                                                                                                                       //warte(100);
 1053           ;                                                                                                                                                                                                                       LCD_1_Position(3,12);
 1053 10                push X
 1054 570C              mov X,12
 1056 5003              mov A,3
 1058 7C0000            xcall _LCD_1_Position
 105B 20                pop X
 105C                   .dbline 763
 105C           ;                                                                                                                                                                                                                       M8C_ClearWDT;   
 105C 62E300            mov REG[0xe3],0
 105F                   .dbline 764
 105F           ;                                                                                                                                                                                                                       }        
 105F           L218:
 105F                   .dbline 738
 105F 5D04              mov A,REG[0x4]
 1061 2110              and A,16
 1063 3910              cmp A,16
 1065 AFB0              jz L217
 1067                   .dbline 766
 1067           ;                                                                                                                                                               
 1067           ;                                                                                                                                                               menu_taste_down();
 1067 7C0029            xcall _menu_taste_down
 106A                   .dbline 767
 106A           ;                                                                                                                                                               clear_LCD();
 106A 7C0000            xcall _clear_LCD
 106D                   .dbline 768
 106D           ;                                                                                                                                                               Print_Status2();
 106D 7C0489            xcall _Print_Status2
 1070                   .dbline 769
 1070           ;                                                                                                                                                               LCD_1_Position(0,5);
 1070 10                push X
 1071 5705              mov X,5
 1073 5000              mov A,0
 1075 7C0000            xcall _LCD_1_Position
 1078                   .dbline 770
 1078           ;                                                                                                                                                               LCD_1_PrCString("Menue");
 1078 5013              mov A,>L228
 107A 08                push A
 107B 5013              mov A,<L228
 107D 5C                mov X,A
 107E 18                pop A
 107F 7C0000            xcall _LCD_1_PrCString
 1082 20                pop X
 1083 8054              xjmp L230
 1085           L229:
 1085                   .dbline 771
 1085           ;                                                                                                                                                               while   ((PRT1DR & 16)==16){
 1085                   .dbline 775
 1085           ;                                                                                                                                                                                                                       
 1085           ;                                                                                                                                                                                                                       
 1085           ;                                                                                                                                                                       
 1085           ;                                                                                                                                                                                                                       LCD_1_Position(2,3);
 1085 10                push X
 1086 5703              mov X,3
 1088 5002              mov A,2
 108A 7C0000            xcall _LCD_1_Position
 108D 20                pop X
 108E                   .dbline 776
 108E           ;                                                                                                                                                                                               if ((direction==128)&&(micgain<9)){
 108E 3C0980            cmp [_direction],-128
 1091 B01F              jnz L232
 1093 3C0009            cmp [_micgain],9
 1096 D01A              jnc L232
 1098           X45:
 1098                   .dbline 777
 1098           ;                                                                                                                                                                                                                                                               micgain++;
 1098                   .dbline 777
 1098 7600              inc [_micgain]
 109A                   .dbline 778
 109A           ;                                                                                                                                                                                                                                                               direction=0;
 109A 550900            mov [_direction],0
 109D                   .dbline 779
 109D           ;                                                                                                                                                                                                                                                                                               Print_Status2();
 109D 7C0489            xcall _Print_Status2
 10A0                   .dbline 781
 10A0           ;                                                                                                                                                                                                                                                                                               //LCD_1_Position(0,23);
 10A0           ;                                                                                                                                                                                                                                                                                           Eingangsamp_SetGain(0x98-(micgain*16));
 10A0 5100              mov A,[_micgain]
 10A2 64                asl A
 10A3 64                asl A
 10A4 64                asl A
 10A5 64                asl A
 10A6 5300              mov [__r0],A
 10A8 5098              mov A,-104
 10AA 1200              sub A,[__r0]
 10AC 10                push X
 10AD 7C0000            xcall _Eingangsamp_SetGain
 10B0 20                pop X
 10B1                   .dbline 783
 10B1           ;                                                                                                                                                                                                                                                                                               
 10B1           ;                                                                                                                                                                                                                                                                                               }
 10B1           L232:
 10B1                   .dbline 785
 10B1           ;                                                                                                                                                                                                                       
 10B1           ;                                                                                                                                                                                                                       if ((direction==129)&&(micgain>1)){
 10B1 3C0981            cmp [_direction],-127
 10B4 B020              jnz L234
 10B6 5001              mov A,1
 10B8 3A00              cmp A,[_micgain]
 10BA D01A              jnc L234
 10BC           X46:
 10BC                   .dbline 786
 10BC           ;                                                                                                                                                                                                                                                                                                micgain--;
 10BC                   .dbline 786
 10BC 7A00              dec [_micgain]
 10BE                   .dbline 787
 10BE           ;                                                                                                                                                                                                                                                               direction=0;
 10BE 550900            mov [_direction],0
 10C1                   .dbline 788
 10C1           ;                                                                                                                                                                                                                                                                                               Print_Status2();
 10C1 7C0489            xcall _Print_Status2
 10C4                   .dbline 790
 10C4           ;                                                                                                                                                                                                                                                                                               //LCD_1_Position(0,23);
 10C4           ;                                                                                                                                                                                                                                                                                               Eingangsamp_SetGain(0x98-(micgain*16));
 10C4 5100              mov A,[_micgain]
 10C6 64                asl A
 10C7 64                asl A
 10C8 64                asl A
 10C9 64                asl A
 10CA 5300              mov [__r0],A
 10CC 5098              mov A,-104
 10CE 1200              sub A,[__r0]
 10D0 10                push X
 10D1 7C0000            xcall _Eingangsamp_SetGain
 10D4 20                pop X
 10D5                   .dbline 792
 10D5           ;                                                                               
 10D5           ;                                                                                                                                                                                                                                                                                               }
 10D5           L234:
 10D5                   .dbline 793
 10D5           ;                                                                                                                                                                                                                       M8C_ClearWDT;                                                   
 10D5 62E300            mov REG[0xe3],0
 10D8                   .dbline 794
 10D8           ;                                                                                                                                                                                                                       }
 10D8           L230:
 10D8                   .dbline 771
 10D8 5D04              mov A,REG[0x4]
 10DA 2110              and A,16
 10DC 3910              cmp A,16
 10DE AFA6              jz L229
 10E0                   .dbline 842
 10E0           ;                                                                                                                                                       
 10E0           ;                                                                                                                                                               /*menu_taste_down();
 10E0           ;                                                                                                                                                               while   ((PRT1DR & 16)==16){
 10E0           ;                                                                                                                                                                                                LCD_1_Position(0,30);
 10E0           ;                                                                                                                                                                                                 if (direction>=128){
 10E0           ;                                                                                                                                                                                                                                               direction=0;
 10E0           ;                                                                                                                                                                                                                                               TXstatus2 ^=1;
 10E0           ;                                                                                                                                                                                                                                               Print_Status2();
 10E0           ;                                                                                                                                                                                                                                               if ((TXstatus2 & 1)==1){
 10E0           ;                                                                               
 10E0           ;                                                                                                                                                                                                                                                                                            frequenz=1448000;          
 10E0           ;                                                                                                                                                                                                                                                                                            Timer8_2_Start();
 10E0           ;                                                                                                                                                                                                                                                                                            Timer8_2_EnableInt();
 10E0           ;                                                                                                                                                                                                                                                                                            bit_counter =0;
 10E0           ;                                                                                                                                                                                                                                                                                            bit_buffer=0;
 10E0           ;                                                                                                                                                                                                                                                                                         
 10E0           ;                                                                                                                                                                                                                                                                                       }
 10E0           ;                                                                                                                                                                                                                                                               else 
 10E0           ;                                                                                                                                                                                                                                                                                       {
 10E0           ;                                                                                                                                                                                                                                                                                                                Timer8_2_DisableInt();
 10E0           ;                                                                                                                                                                                                                                                                                                                Timer8_2_Stop();
 10E0           ;                                                                                                                                                                                                                                                                                                               }
 10E0           ;                                                                                                                                                                                                                                               //LCD_1_Position(0,26);
 10E0           ;                                                                                                                                                                                                                                               }
 10E0           ;                                                                                                                                                                                                                       M8C_ClearWDT;   
 10E0           ;                                                                                                                                                                                           }
 10E0           ;                                                                                                                                               
 10E0           ;                                                                                                                                                               menu_taste_down();
 10E0           ;                                                                                                                                                               
 10E0           ;                                                                                                                                                               // vox on/off
 10E0           ;                                                                                                                                                               /*while ((PRT1DR & 16)==16){
 10E0           ;                                                                                                                                                                                                         LCD_1_Position(0,29);
 10E0           ;                                                                                                                                                                                             if (direction>=128){
 10E0           ;                                                                                                                                                                                                                                               direction=0;
 10E0           ;                                                                                                                                                                                                                                               TXstatus ^=64;
 10E0           ;                                                                                                                                                                                                                                               Print_Status2();
 10E0           ;                                                                                                                                                                                                                                           if ((TXstatus & 64)==0){
 10E0           ;                                                                                                                                                                                                                                                                                           // COMP_1_Stop();
 10E0           ;                                                                                                                                                                                                                                                                                      }
 10E0           ;                                                                                                                                                                                                                                           else 
 10E0           ;                                                                                                                                                                                                                                                                               {
 10E0           ;                                                                                                                                                                                                                                                                                                               //COMP_1_EnableInt();
 10E0           ;                                                                                                                                                                                                                                                                                                               //COMP_1_Start(COMP_1_LOWPOWER);
 10E0           ;                                                                                                                                                                                                                                                                                                       }
 10E0           ;                                                                                                                                                                                                                                      }
 10E0           ;                                                                                                                                                                                                                M8C_ClearWDT;
 10E0           ;                                                                                                                                                                                       }*/
 10E0           ;                                                                                                                                                               menu_taste_down();
 10E0 7C0029            xcall _menu_taste_down
 10E3                   .dbline 843
 10E3           ;                                                                                                                                                               Print_status();
 10E3 7C0514            xcall _Print_status
 10E6                   .dbline 844
 10E6           ;                                                                                                                                                               LCD_1_Position(0,5);
 10E6 10                push X
 10E7 5705              mov X,5
 10E9 5000              mov A,0
 10EB 7C0000            xcall _LCD_1_Position
 10EE 20                pop X
 10EF 8045              xjmp L237
 10F1           L236:
 10F1                   .dbline 845
 10F1           ;                                                                                                                                                               while ((PRT1DR & 16)==16){ //exit Menu
 10F1                   .dbline 846
 10F1           ;                                                                                                                                                                                                       if (direction>=128){
 10F1 3C0980            cmp [_direction],-128
 10F4 C032              jc L239
 10F6           X47:
 10F6                   .dbline 847
 10F6           ;                                                                                                                                                                                                                                       direction=0;
 10F6                   .dbline 847
 10F6 550900            mov [_direction],0
 10F9                   .dbline 848
 10F9           ;                                                                                                                                                                                                                                       TXstatus ^=128;
 10F9 360B80            xor [_TXstatus],-128
 10FC                   .dbline 849
 10FC           ;                                                                                                                                                                                                                                       if ((TXstatus & 128)==128){
 10FC 510B              mov A,[_TXstatus]
 10FE 2180              and A,-128
 1100 3980              cmp A,-128
 1102 B00F              jnz L241
 1104                   .dbline 850
 1104           ;                                                                                                                                                                                                                                                               LCD_1_PrCString("Menue");
 1104                   .dbline 850
 1104 10                push X
 1105 5013              mov A,>L228
 1107 08                push A
 1108 5013              mov A,<L228
 110A 5C                mov X,A
 110B 18                pop A
 110C 7C0000            xcall _LCD_1_PrCString
 110F 20                pop X
 1110                   .dbline 852
 1110           ;                                                                                                                                                                                                                                                                                   
 1110           ;                                                                                                                                                                                                                                                                                               }
 1110 800D              xjmp L242
 1112           L241:
 1112                   .dbline 854
 1112           ;                                                                                                                                                                                                                               else 
 1112           ;                                                                                                                                                                                                                                                                               {
 1112                   .dbline 855
 1112           ;                                                                                                                                                                                                                                                                                                       LCD_1_PrCString("Exit ");
 1112 10                push X
 1113 500D              mov A,>L243
 1115 08                push A
 1116 500D              mov A,<L243
 1118 5C                mov X,A
 1119 18                pop A
 111A 7C0000            xcall _LCD_1_PrCString
 111D 20                pop X
 111E                   .dbline 856
 111E           ;                                                                                                                                                                                                                                                                                                       }
 111E           L242:
 111E                   .dbline 857
 111E           ;                                                                                                                                                                                                                                       LCD_1_Position(0,5);
 111E 10                push X
 111F 5705              mov X,5
 1121 5000              mov A,0
 1123 7C0000            xcall _LCD_1_Position
 1126 20                pop X
 1127                   .dbline 858
 1127           ;                                                                                                                                                                                                                                  }
 1127           L239:
 1127                   .dbline 859
 1127           ;                                                                                                                                                                                                               warte(100);     
 1127 5000              mov A,0
 1129 08                push A
 112A 5064              mov A,100
 112C 08                push A
 112D 7C0008            xcall _warte
 1130 38FE              add SP,-2
 1132                   .dbline 860
 1132           ;                                                                                                                                                                                                               M8C_ClearWDT;   
 1132 62E300            mov REG[0xe3],0
 1135                   .dbline 861
 1135           ;                                                                                                                                                                                       }
 1135           L237:
 1135                   .dbline 845
 1135 5D04              mov A,REG[0x4]
 1137 2110              and A,16
 1139 3910              cmp A,16
 113B AFB5              jz L236
 113D                   .dbline 862
 113D           ;                                                                                                                                       }
 113D           L186:
 113D                   .dbline 660
 113D 510B              mov A,[_TXstatus]
 113F 2180              and A,-128
 1141 3980              cmp A,-128
 1143 B009              jnz L244
 1145 5D04              mov A,REG[0x4]
 1147 2110              and A,16
 1149 3910              cmp A,16
 114B BD34              jnz L185
 114D           L244:
 114D                   .dbline 864
 114D           ;                                                       //übertragen der Daten zum RDA chip
 114D           ;                                                               M8C_DisableIntMask(INT_MSK0, INT_MSK0_GPIO);
 114D 41E0DF            and REG[0xe0],-33
 1150                   .dbline 865
 1150           ;                                                               komando_setgroup();
 1150 7C06CD            xcall _komando_setgroup
 1153                   .dbline 866
 1153           ;                                                           eprom(0);
 1153 5000              mov A,0
 1155 08                push A
 1156 7C01B7            xcall _eprom
 1159                   .dbline 867
 1159           ;                                                               warte (100);
 1159 5000              mov A,0
 115B 08                push A
 115C 5064              mov A,100
 115E 08                push A
 115F 7C0008            xcall _warte
 1162 38FD              add SP,-3
 1164                   .dbline 868
 1164           ;                                       LCD_1_Control(12);
 1164 10                push X
 1165 500C              mov A,12
 1167 7C0000            xcall _LCD_1_Control
 116A 20                pop X
 116B                   .dbline 869
 116B           ;                                                               PRT1IE |=0x20;  //TX interupt wieder zulassen
 116B 430520            or REG[0x5],32
 116E                   .dbline 870
 116E           ;                                                           PRT0IE |=0x08; //drehgeber2 Interupt wieder zulassen
 116E 430108            or REG[0x1],8
 1171                   .dbline 871
 1171           ;                                                               TXstatus &=0x7f;
 1171 260B7F            and [_TXstatus],127
 1174                   .dbline 872
 1174           ;                                                               warte(200);
 1174 5000              mov A,0
 1176 08                push A
 1177 50C8              mov A,-56
 1179 08                push A
 117A 7C0008            xcall _warte
 117D 38FE              add SP,-2
 117F                   .dbline 873
 117F           ;                                                               M8C_EnableIntMask(INT_MSK0, INT_MSK0_GPIO);
 117F 43E020            or REG[0xe0],32
 1182                   .dbline 874
 1182           ;                                                           Timer8_2_EnableInt();
 1182 10                push X
 1183 7C0000            xcall _Timer8_2_EnableInt
 1186 20                pop X
 1187                   .dbline 875
 1187           ;                                               }
 1187           L183:
 1187                   .dbline 876
 1187           ;               }
 1187           L122:
 1187                   .dbline 485
 1187 89B8              xjmp L121
 1189           X16:
 1189                   .dbline -2
 1189           L118:
 1189 38FC              add SP,-4
 118B 20                pop X
 118C                   .dbline 0 ; func end
 118C 8FFF              jmp .
 118E                   .dbsym l count 2 I
 118E                   .dbsym l strPtr 0 pc
 118E                   .dbend
                        .area bss(ram, con, rel)
 0000                   .dbfile F:\PSOCDE~1.4PR\fmfunke2\fmfunke2\main.c
 0000           _micgain::
 0000                   .blkb 1
 0001                   .dbsym e micgain _micgain c
 0001           _Squelch::
 0001                   .blkb 1
 0002                   .dbsym e Squelch _Squelch c
 0002           _volume::
 0002                   .blkb 1
 0003                   .dbsym e volume _volume c
 0003           _frequenz::
 0003                   .blkb 4
 0007                   .dbsym e frequenz _frequenz L
 0007           _shift::
 0007                   .blkb 2
 0009                   .dbsym e shift _shift I
 0009           _direction::
 0009                   .blkb 1
 000A                   .dbsym e direction _direction c
 000A           _TXstatus2::
 000A                   .blkb 1
 000B                   .dbsym e TXstatus2 _TXstatus2 c
 000B           _TXstatus::
 000B                   .blkb 1
 000C                   .dbsym e TXstatus _TXstatus c
 000C           _filter::
 000C                   .blkb 1
 000D                   .dbsym e filter _filter c
                        .area lit(rom, con, rel, lit)
 000D           L243:
 000D 457869742000      .byte 'E,'x,'i,'t,32,0
 0013           L228:
 0013 4D656E756500      .byte 'M,'e,'n,'u,'e,0
 0019           L188:
 0019 20202020204D656E7565202020202020  .byte 32,32,32,32,32,'M,'e,'n,'u,'e,32,32,32,32,32,32
 0029 2020202000        .byte 32,32,32,32,0
 002E           L134:
 002E 48656172746265617400      .byte 'H,'e,'a,'r,'t,'b,'e,'a,'t,0
 0038           L117:
 0038 475200            .byte 'G,'R,0
 003B           L111:
 003B 41542B444D4F53455447524F55503D00  .byte 'A,'T,43,'D,'M,'O,'S,'E,'T,'G,'R,'O,'U,'P,61,0
 004B           L96:
 004B 6869676800        .byte 'h,'i,'g,'h,0
 0050           L95:
 0050 6C6F7700          .byte 'l,'o,'w,0
 0054           L94:
 0054 206C6F7700        .byte 32,'l,'o,'w,0
 0059           L91:
 0059 5077723A00        .byte 'P,'w,'r,58,0
 005E           L90:
 005E 32352C30204B687A00        .byte 50,53,44,48,32,'K,'h,'z,0
 0067           L89:
 0067 31322C35204B687A00        .byte 49,50,44,53,32,'K,'h,'z,0
 0070           L86:
 0070 42773A00          .byte 'B,'w,58,0
 0074           L85:
 0074 4C5000            .byte 'L,'P,0
 0077           L84:
 0077 4C502000          .byte 'L,'P,32,0
 007B           L81:
 007B 485000            .byte 'H,'P,0
 007E           L80:
 007E 48502000          .byte 'H,'P,32,0
 0082           L77:
 0082 50524500          .byte 'P,'R,'E,0
 0086           L72:
 0086 46696C7465723A00  .byte 'F,'i,'l,'t,'e,'r,58,0
 008E           L71:
 008E 46696C3A00        .byte 'F,'i,'l,58,0
 0093           L70:
 0093 4475706C657800    .byte 'D,'u,'p,'l,'e,'x,0
 009A           L69:
 009A 44757000          .byte 'D,'u,'p,0
 009E           L68:
 009E 53696D706C657800  .byte 'S,'i,'m,'p,'l,'e,'x,0
 00A6           L67:
 00A6 53696D00          .byte 'S,'i,'m,0
 00AA           L64:
 00AA 4D6F64653A00      .byte 'M,'o,'d,'e,58,0
 00B0           L63:
 00B0 53513A00          .byte 'S,'Q,58,0
 00B4           L61:
 00B4 6F6E2000          .byte 'o,'n,32,0
 00B8           L60:
 00B8 6F666600          .byte 'o,'f,'f,0
 00BC           L57:
 00BC 566F783A00        .byte 'V,'o,'x,58,0
 00C1           L56:
 00C1 4D69633A00        .byte 'M,'i,'c,58,0
 00C6           L54:
 00C6 205600            .byte 32,'V,0
 00C9           L53:
 00C9 20566F6C7400      .byte 32,'V,'o,'l,'t,0
 00CF           L20:
 00CF 545258205374617475733A00  .byte 'T,'R,'X,32,'S,'t,'a,'t,'u,'s,58,0
 00DB           L19:
 00DB 5152473A00        .byte 'Q,'R,'G,58,0
